<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Bundler::Source::Git - bundler-1.6.3 Documentation</title>

<link href="../../fonts.css" rel="stylesheet">
<link href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/navigation.js"></script>
<script src="../../js/search_index.js"></script>
<script src="../../js/search.js"></script>
<script src="../../js/searcher.js"></script>
<script src="../../js/darkfish.js"></script>


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Path
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-from_lock">::from_lock</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-3D-3D">#==</a>
    
    <li ><a href="#method-i-allow_git_ops-3F">#allow_git_ops?</a>
    
    <li ><a href="#method-i-app_cache_dirname">#app_cache_dirname</a>
    
    <li ><a href="#method-i-base_name">#base_name</a>
    
    <li ><a href="#method-i-cache">#cache</a>
    
    <li ><a href="#method-i-cache_path">#cache_path</a>
    
    <li ><a href="#method-i-cached-3F">#cached?</a>
    
    <li ><a href="#method-i-cached_revision">#cached_revision</a>
    
    <li ><a href="#method-i-eql-3F">#eql?</a>
    
    <li ><a href="#method-i-extension_dir_name">#extension_dir_name</a>
    
    <li ><a href="#method-i-git_proxy">#git_proxy</a>
    
    <li class="calls-super" ><a href="#method-i-has_app_cache-3F">#has_app_cache?</a>
    
    <li ><a href="#method-i-install">#install</a>
    
    <li ><a href="#method-i-install_path">#install_path</a>
    
    <li class="calls-super" ><a href="#method-i-load_spec_files">#load_spec_files</a>
    
    <li ><a href="#method-i-local-3F">#local?</a>
    
    <li ><a href="#method-i-local_override-21">#local_override!</a>
    
    <li ><a href="#method-i-name">#name</a>
    
    <li ><a href="#method-i-path">#path</a>
    
    <li ><a href="#method-i-requires_checkout-3F">#requires_checkout?</a>
    
    <li ><a href="#method-i-revision">#revision</a>
    
    <li ><a href="#method-i-serialize_gemspecs_in">#serialize_gemspecs_in</a>
    
    <li ><a href="#method-i-set_local-21">#set_local!</a>
    
    <li ><a href="#method-i-shortref_for_display">#shortref_for_display</a>
    
    <li ><a href="#method-i-shortref_for_path">#shortref_for_path</a>
    
    <li ><a href="#method-i-specs">#specs</a>
    
    <li ><a href="#method-i-to_lock">#to_lock</a>
    
    <li ><a href="#method-i-to_s">#to_s</a>
    
    <li ><a href="#method-i-unlock-21">#unlock!</a>
    
    <li ><a href="#method-i-uri_hash">#uri_hash</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Bundler::Source::Git">
  <h1 id="class-Bundler::Source::Git" class="class">
    class Bundler::Source::Git
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-branch" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">branch</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-options" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">options</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-ref" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ref</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-submodules" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">submodules</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-uri" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">uri</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-from_lock" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">from_lock</span><span
            class="method-args">(options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="from_lock-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">from_lock</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;uri&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;remote&quot;</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 13</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
  <span class="ruby-ivar">@glob</span> = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;glob&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_GLOB</span>

  <span class="ruby-ivar">@allow_cached</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@allow_remote</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-comment"># Stringify options that could be set as symbols</span>
  <span class="ruby-node">%w(ref branch tag revision)</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>] }

  <span class="ruby-ivar">@uri</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;uri&quot;</span>]
  <span class="ruby-ivar">@branch</span>     = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>]
  <span class="ruby-ivar">@ref</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;ref&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;tag&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'master'</span>
  <span class="ruby-ivar">@submodules</span> = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;submodules&quot;</span>]
  <span class="ruby-ivar">@name</span>       = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;name&quot;</span>]
  <span class="ruby-ivar">@version</span>    = <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;version&quot;</span>]

  <span class="ruby-ivar">@copied</span>     = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@local</span>      = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-3D-3D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">==</span><span
            class="method-args">(o)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Git.html#method-i-eql-3F">eql?</a>
        </div>
        
      </div>

    
      <div id="method-i-allow_git_ops-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">allow_git_ops?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="allow_git_ops-3F-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 214</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">allow_git_ops?</span>
  <span class="ruby-ivar">@allow_remote</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@allow_cached</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-app_cache_dirname" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">app_cache_dirname</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="app_cache_dirname-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">app_cache_dirname</span>
  <span class="ruby-node">&quot;#{base_name}-#{shortref_for_path(cached_revision || revision)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cache" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cache</span><span
            class="method-args">(spec, custom_path = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cache-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cache</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">custom_path</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">app_cache_path</span> = <span class="ruby-identifier">app_cache_path</span>(<span class="ruby-identifier">custom_path</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">settings</span>[<span class="ruby-value">:cache_all</span>]
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">app_cache_path</span>
  <span class="ruby-identifier">cached!</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">app_cache_path</span>)
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">checkout</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">requires_checkout?</span>
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">copy_to</span>(<span class="ruby-identifier">app_cache_path</span>, <span class="ruby-ivar">@submodules</span>)
  <span class="ruby-identifier">serialize_gemspecs_in</span>(<span class="ruby-identifier">app_cache_path</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cache_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cache_path</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This is the path which is going to contain a cache of the git repository.
When using the same git repository across different projects, this cache
will be shared. When using local git repos, this is set to the local repo.</p>
          
          

          
          <div class="method-source-code" id="cache_path-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cache_path</span>
  <span class="ruby-ivar">@cache_path</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">git_scope</span> = <span class="ruby-node">&quot;#{base_name}-#{uri_hash}&quot;</span>

    <span class="ruby-keyword">if</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">requires_sudo?</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">user_bundle_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;cache/git&quot;</span>, <span class="ruby-identifier">git_scope</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">cache</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;git&quot;</span>, <span class="ruby-identifier">git_scope</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eql-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eql?</span><span
            class="method-args">(o)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="eql-3F-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">o</span>)
  <span class="ruby-identifier">o</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Git</span>)         <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">uri</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">uri</span>         <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">ref</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">ref</span>         <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">branch</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">branch</span>   <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">name</span>       <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">version</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">submodules</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">submodules</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Git.html#method-i-3D-3D">==</a>
        </div>
        

        
      </div>

    
      <div id="method-i-extension_dir_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extension_dir_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="extension_dir_name-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extension_dir_name</span>
  <span class="ruby-node">&quot;#{base_name}-#{shortref_for_path(revision)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-install" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">install</span><span
            class="method-args">(spec)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="install-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">install</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-identifier">debug</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">requires_checkout?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@copied</span>
    <span class="ruby-identifier">debug</span> = <span class="ruby-node">&quot;  * Checking out revision: #{ref}&quot;</span>
    <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">copy_to</span>(<span class="ruby-identifier">install_path</span>, <span class="ruby-identifier">submodules</span>)
    <span class="ruby-identifier">serialize_gemspecs_in</span>(<span class="ruby-identifier">install_path</span>)
    <span class="ruby-ivar">@copied</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">generate_bin</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">requires_checkout?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">post_install_message</span>
    <span class="ruby-constant">Installer</span>.<span class="ruby-identifier">post_install_messages</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">post_install_message</span>
  <span class="ruby-keyword">end</span>
  [<span class="ruby-node">&quot;Using #{version_message(spec)} from #{to_s}&quot;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">debug</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-install_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">install_path</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This is the path which is going to contain a specific checkout of the git
repository. When using local git repos, this is set to the local repo.</p>
          
          

          
          <div class="method-source-code" id="install_path-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">install_path</span>
  <span class="ruby-ivar">@install_path</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">git_scope</span> = <span class="ruby-node">&quot;#{base_name}-#{shortref_for_path(revision)}&quot;</span>

    <span class="ruby-keyword">if</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">requires_sudo?</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">user_bundle_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">ruby_scope</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">git_scope</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">install_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">git_scope</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Git.html#method-i-path">path</a>
        </div>
        

        
      </div>

    
      <div id="method-i-load_spec_files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_spec_files</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          
            <div class="method-calls-super">
              Calls superclass method
              
            </div>
          

          
          <div class="method-source-code" id="load_spec_files-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_spec_files</span>
  <span class="ruby-keyword">super</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">PathError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">ui</span>.<span class="ruby-identifier">trace</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;#{to_s} is not yet checked out. Run `bundle install` first.&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-local_override-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local_override!</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="local_override-21-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">local_override!</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">local?</span>

  <span class="ruby-identifier">path</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">root</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">relative?</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">settings</span>[<span class="ruby-value">:disable_local_branch_check</span>]
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;Cannot use local override for #{name} at #{path} because &quot;</span>              <span class="ruby-string">&quot;:branch is not specified in Gemfile. Specify a branch or use &quot;</span>              <span class="ruby-string">&quot;`bundle config --delete` to remove the local override&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">exist?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;Cannot use local override for #{name} because #{path} &quot;</span>              <span class="ruby-string">&quot;does not exist. Check `bundle config --delete` to remove the local override&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">set_local!</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-comment"># Create a new git proxy without the cached revision</span>
  <span class="ruby-comment"># so the Gemfile.lock always picks up the new revision.</span>
  <span class="ruby-ivar">@git_proxy</span> = <span class="ruby-constant">GitProxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">ref</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">branch</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;branch&quot;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">settings</span>[<span class="ruby-value">:disable_local_branch_check</span>]
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;Local override for #{name} at #{path} is using branch &quot;</span>              <span class="ruby-node">&quot;#{git_proxy.branch} but Gemfile specifies #{options[&quot;branch&quot;]}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">changed</span> = <span class="ruby-identifier">cached_revision</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cached_revision</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">revision</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">changed</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@unlocked</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">contains?</span>(<span class="ruby-identifier">cached_revision</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">GitError</span>, <span class="ruby-node">&quot;The Gemfile lock is pointing to revision #{shortref_for_display(cached_revision)} &quot;</span>              <span class="ruby-node">&quot;but the current branch in your local override for #{name} does not contain such commit. &quot;</span>              <span class="ruby-string">&quot;Please make sure your branch is up to date.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">changed</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="name-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-ivar">@uri</span>, <span class="ruby-string">'.git'</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-path" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">path</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Git.html#method-i-install_path">install_path</a>
        </div>
        
      </div>

    
      <div id="method-i-revision" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">revision</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="revision-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">revision</span>
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">revision</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-specs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">specs</span><span
            class="method-args">(*)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>TODO: actually cache git specs</p>
          
          

          
          <div class="method-source-code" id="specs-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 142</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">specs</span>(<span class="ruby-operator">*</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_app_cache?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">local?</span>
    <span class="ruby-identifier">set_local!</span>(<span class="ruby-identifier">app_cache_path</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">requires_checkout?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@copied</span>
    <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">checkout</span>
    <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">copy_to</span>(<span class="ruby-identifier">install_path</span>, <span class="ruby-identifier">submodules</span>)
    <span class="ruby-identifier">serialize_gemspecs_in</span>(<span class="ruby-identifier">install_path</span>)
    <span class="ruby-ivar">@copied</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">local_specs</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_lock" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_lock</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="to_lock-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_lock</span>
  <span class="ruby-identifier">out</span> = <span class="ruby-string">&quot;GIT\n&quot;</span>
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  remote: #{@uri}\n&quot;</span>
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  revision: #{revision}\n&quot;</span>
  <span class="ruby-node">%w(ref branch tag submodules)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  #{opt}: #{options[opt]}\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">opt</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  glob: #{@glob}\n&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@glob</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DEFAULT_GLOB</span>
  <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;  specs:\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">at</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">local?</span>
    <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;ref&quot;</span>]
    <span class="ruby-identifier">shortref_for_display</span>(<span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;ref&quot;</span>])
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">ref</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-node">&quot;#{uri} (at #{at})&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unlock-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unlock!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="unlock-21-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unlock!</span>
  <span class="ruby-identifier">git_proxy</span>.<span class="ruby-identifier">revision</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@unlocked</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-base_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">base_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="base_name-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">base_name</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r{^(\w+://)?([^/:]+:)?(//\w*/)?(\w*/)*}</span>,<span class="ruby-string">''</span>),<span class="ruby-string">&quot;.git&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cached-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cached?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cached-3F-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cached?</span>
  <span class="ruby-identifier">cache_path</span>.<span class="ruby-identifier">exist?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cached_revision" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cached_revision</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cached_revision-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 274</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cached_revision</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-string">&quot;revision&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-git_proxy" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">git_proxy</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="git_proxy-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">git_proxy</span>
  <span class="ruby-ivar">@git_proxy</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">GitProxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">cache_path</span>, <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">ref</span>, <span class="ruby-identifier">cached_revision</span>, <span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-has_app_cache-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">has_app_cache?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          
            <div class="method-calls-super">
              Calls superclass method
              
            </div>
          

          
          <div class="method-source-code" id="has_app_cache-3F-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_app_cache?</span>
  <span class="ruby-identifier">cached_revision</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">super</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-local-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="local-3F-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">local?</span>
  <span class="ruby-ivar">@local</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-requires_checkout-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">requires_checkout?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="requires_checkout-3F-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 246</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">requires_checkout?</span>
  <span class="ruby-identifier">allow_git_ops?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">local?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-serialize_gemspecs_in" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">serialize_gemspecs_in</span><span
            class="method-args">(destination)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="serialize_gemspecs_in-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">serialize_gemspecs_in</span>(<span class="ruby-identifier">destination</span>)
  <span class="ruby-identifier">expanded_path</span> = <span class="ruby-identifier">destination</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">root</span>)
  <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{expanded_path}/#{@glob}&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec_path</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># Evaluate gemspecs and cache the result. Gemspecs</span>
    <span class="ruby-comment"># in git might require git or other dependencies.</span>
    <span class="ruby-comment"># The gemspecs we cache should already be evaluated.</span>
    <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Bundler</span>.<span class="ruby-identifier">load_gemspec</span>(<span class="ruby-identifier">spec_path</span>)
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">spec</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">spec_path</span>, <span class="ruby-string">'wb'</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_ruby</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-set_local-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_local!</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="set_local-21-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_local!</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-ivar">@local</span>       = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@local_specs</span> = <span class="ruby-ivar">@git_proxy</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@cache_path</span>  = <span class="ruby-ivar">@install_path</span> = <span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-shortref_for_display" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">shortref_for_display</span><span
            class="method-args">(ref)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="shortref_for_display-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 254</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shortref_for_display</span>(<span class="ruby-identifier">ref</span>)
  <span class="ruby-identifier">ref</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">6</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-shortref_for_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">shortref_for_path</span><span
            class="method-args">(ref)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="shortref_for_path-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shortref_for_path</span>(<span class="ruby-identifier">ref</span>)
  <span class="ruby-identifier">ref</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">11</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-uri_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uri_hash</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="uri_hash-source">
            <pre><span class="ruby-comment"># File lib/bundler/source/git.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uri_hash</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">uri</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^\w+://(\w+@)?}</span>
    <span class="ruby-comment"># Downcase the domain component of the URI</span>
    <span class="ruby-comment"># and strip off a trailing slash, if one is present</span>
    <span class="ruby-identifier">input</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">uri</span>).<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r{/$}</span>,<span class="ruby-string">''</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># If there is no URI scheme, assume it is an ssh/git URI</span>
    <span class="ruby-identifier">input</span> = <span class="ruby-identifier">uri</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Digest</span><span class="ruby-operator">::</span><span class="ruby-constant">SHA1</span>.<span class="ruby-identifier">hexdigest</span>(<span class="ruby-identifier">input</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

