<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>bundle-install - bundler-1.6.3 Documentation</title>

<link href="../../../fonts.css" rel="stylesheet">
<link href="../../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
</script>

<script src="../../../js/jquery.js"></script>
<script src="../../../js/navigation.js"></script>
<script src="../../../js/search_index.js"></script>
<script src="../../../js/search.js"></script>
<script src="../../../js/searcher.js"></script>
<script src="../../../js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../lib/bundler/man/bundle.html">bundle</a>
  
    <li><a href="../../../lib/bundler/man/bundle-config.html">bundle-config</a>
  
    <li><a href="../../../lib/bundler/man/bundle-config_txt.html">bundle-config</a>
  
    <li><a href="../../../lib/bundler/man/bundle-exec.html">bundle-exec</a>
  
    <li><a href="../../../lib/bundler/man/bundle-exec_txt.html">bundle-exec</a>
  
    <li><a href="../../../lib/bundler/man/bundle-install.html">bundle-install</a>
  
    <li><a href="../../../lib/bundler/man/bundle-install_txt.html">bundle-install</a>
  
    <li><a href="../../../lib/bundler/man/bundle-package.html">bundle-package</a>
  
    <li><a href="../../../lib/bundler/man/bundle-package_txt.html">bundle-package</a>
  
    <li><a href="../../../lib/bundler/man/bundle-platform.html">bundle-platform</a>
  
    <li><a href="../../../lib/bundler/man/bundle-platform_txt.html">bundle-platform</a>
  
    <li><a href="../../../lib/bundler/man/bundle-update.html">bundle-update</a>
  
    <li><a href="../../../lib/bundler/man/bundle-update_txt.html">bundle-update</a>
  
    <li><a href="../../../lib/bundler/man/bundle_txt.html">bundle</a>
  
    <li><a href="../../../lib/bundler/man/gemfile_5.html">gemfile.5</a>
  
    <li><a href="../../../lib/bundler/man/gemfile_5_txt.html">gemfile.5</a>
  
    <li><a href="../../../lib/bundler/templates/Executable.html">Executable</a>
  
    <li><a href="../../../lib/bundler/templates/Executable_standalone.html">Executable.standalone</a>
  
    <li><a href="../../../lib/bundler/templates/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/Gemfile_tt.html">Gemfile.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/LICENSE_txt_tt.html">LICENSE.txt.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/README_md_tt.html">README.md.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/Rakefile_tt.html">Rakefile.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/bin/newgem_tt.html">newgem.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/ext/newgem/extconf_rb_tt.html">extconf.rb.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/ext/newgem/newgem_c_tt.html">newgem.c.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/ext/newgem/newgem_h_tt.html">newgem.h.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/gitignore_tt.html">gitignore.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/lib/newgem_rb_tt.html">newgem.rb.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/lib/newgem/version_rb_tt.html">version.rb.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/newgem_gemspec_tt.html">newgem.gemspec.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/rspec_tt.html">rspec.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/spec/newgem_spec_rb_tt.html">newgem_spec.rb.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/spec/spec_helper_rb_tt.html">spec_helper.rb.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/test/minitest_helper_rb_tt.html">minitest_helper.rb.tt</a>
  
    <li><a href="../../../lib/bundler/templates/newgem/test/test_newgem_rb_tt.html">test_newgem.rb.tt</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page lib/bundler/man/bundle-install.txt">

<p>BUNDLE-INSTALL(1)                                           
BUNDLE-INSTALL(1)</p>

<p>NAME</p>

<pre>bundle-install - Install the dependencies specified in your Gemfile</pre>

<p>SYNOPSIS</p>

<pre>bundle install [--gemfile=GEMFILE]

                 [--path PATH] [--system]
                 [--without=GROUP1[ GROUP2...]]
                 [--local] [--deployment]
                 [--binstubs[=DIRECTORY]]
                 [--standalone[=GROUP1[ GROUP2...]]]
                 [--trust-policy=POLICY]
                 [--jobs=SIZE]
                 [--retry=TRIES]
                 [--no-cache]
                 [--quiet]
                 [--clean]
                 [--full-index]
                 [--no-prune]
                 [--shebang]</pre>

<p>DESCRIPTION</p>

<pre>Install  the  gems  specified  in your Gemfile(5). If this is the first
time you run bundle  install  (and  a  Gemfile.lock  does  not  exist),
bundler will fetch all remote sources, resolve dependencies and install
all needed gems.

If a Gemfile.lock does exist, and you have not updated your Gemfile(5),
bundler  will fetch all remote sources, but use the dependencies speci-
fied in the Gemfile.lock instead of resolving dependencies.

If a Gemfile.lock does exist, and you  have  updated  your  Gemfile(5),
bundler will use the dependencies in the Gemfile.lock for all gems that
you did not update, but will re-resolve the dependencies of  gems  that
you did update. You can find more information about this update process
below under CONSERVATIVE UPDATING.</pre>

<p>OPTIONS</p>

<pre>--gemfile=&lt;gemfile&gt;
       The location of the Gemfile(5) that  bundler  should  use.  This
       defaults  to a gemfile in the current working directory. In gen-
       eral, bundler will assume that the location of the Gemfile(5) is
       also  the  project  root, and will look for the Gemfile.lock and
       vendor/cache relative to it.

--path=&lt;path&gt;
       The location to install the gems in the bundle to. This defaults
       to  Rubygems' gem home, which is also the default location where
       gem install installs gems. This means  that,  by  default,  gems
       installed  without  a  --path  setting will show up in gem list.
       This setting is a remembered option.

--system
       Installs the gems in the bundle to  the  system  location.  This
       overrides any previous remembered use of --path.

--without=&lt;list&gt;
       A  space-separated  list of groups to skip installing. This is a
       remembered option.

--local
       Do not attempt to connect to rubygems.org,  instead  using  just
       the  gems already present in Rubygems' cache or in vendor/cache.
       Note that if a more appropriate platform-specific gem exists  on
       rubygems.org, it will not be found.

--deployment
       Switches  bundler's  defaults  into  deployment mode. Do not use
       this flag on development machines.

--binstubs[=&lt;directory&gt;]
       Create a directory (defaults to bin)  containing  an  executable
       that  runs  in  the  context of the bundle. For instance, if the
       rails gem comes with a rails executable, this flag will create a
       bin/rails  executable  that  ensures  that all dependencies used
       come from the bundled gems.

--shebang ruby-install-name
       Uses the ruby executable (usually ruby) provided to execute  the
       scripts created with --binstubs. For instance, if you use --bin-
       stubs with --shebang jruby, all executables will be  created  to
       use jruby instead.

--standalone[=&lt;list&gt;]
       Make a bundle that can work without Ruby Gems or Bundler at run-
       time. It takes a space separated list of groups to  install.  It
       creates  a  bundle  directory  and installs the bundle there. It
       also  generates  a  bundle/bundler/setup.rb  file   to   replace
       Bundler's own setup.

--trust-policy=[&lt;policy&gt;]
       Apply the Rubygems security policy named policy, where policy is
       one of HighSecurity, MediumSecurity, LowSecurity, or NoSecurity.
       For  more detail, see the Rubygems signing documentation, linked
       below in SEE ALSO.

--jobs=[&lt;size&gt;]
       Install gems parallely by starting size number of parallel work-
       ers.

--retry[&lt;tries]
       Retries failed network or git requests tries times.

--no-cache
       Do  not  update the cache in vendor/cache with the newly bundled
       gems. This does not remove any existing cached gems, only  stops
       the newly bundled gems from being cached during the install.

--quiet
       Do  not  print progress information to stdout. Instead, communi-
       cate the success of the install operation via exit status  code.

--clean
       Run bundle clean automatically after install.

--full-index
       Use the rubygems modern index instead of the API endpoint.

--no-prune
       Don't remove stale gems from the cache.</pre>

<p>DEPLOYMENT MODE</p>

<pre>Bundler's defaults are optimized for development. To switch to defaults
optimized for deployment, use the --deployment flag.  Do  not  activate
deployment  mode  on development machines, as it will cause in an error
when the Gemfile is modified.

1.  A Gemfile.lock is required.

    To ensure that the same versions of the gems you developed with and
    tested  with  are  also  used  in  deployments,  a  Gemfile.lock is
    required.

    This is mainly to ensure that  you  remember  to  check  your  Gem-
    file.lock into version control.

2.  The Gemfile.lock must be up to date

    In  development,  you  can modify your Gemfile(5) and re-run bundle
    install to conservatively update your Gemfile.lock snapshot.

    In deployment, your Gemfile.lock should be up-to-date with  changes
    made in your Gemfile(5).

3.  Gems  are  installed to vendor/bundle not your default system loca-
    tion

    In development, it's convenient to share  the  gems  used  in  your
    application  with  other  applications and other scripts run on the
    system.

    In deployment, isolation is a more important default. In  addition,
    the  user  deploying  the  application  may  not have permission to
    install gems to the system, or the web server may not have  permis-
    sion to read them.

    As  a result, bundle install --deployment installs gems to the ven-
    dor/bundle directory in the application.  This  may  be  overridden
    using the --path option.</pre>

<p>SUDO USAGE</p>

<pre>By  default, bundler installs gems to the same location as gem install.

In some cases, that location may not be writable by your Unix user.  In
that case, bundler will stage everything in a temporary directory, then
ask you for your sudo password in order to copy  the  gems  into  their
system location.

From  your  perspective,  this  is  identical  to  installing them gems
directly into the system.

You should never use sudo bundle install. This is because several other
steps in bundle install must be performed as the current user:

o   Updating your Gemfile.lock

o   Updating your vendor/cache, if necessary

o   Checking out private git repositories using your user's SSH keys

Of  these  three,  the  first  two  could theoretically be performed by
chowning the resulting files to $SUDO_USER.  The  third,  however,  can
only  be  performed by actually invoking the git command as the current
user. Therefore, git gems are downloaded and installed  into  ~/.bundle
rather than $GEM_HOME or $BUNDLE_PATH.

As  a  result,  you  should run bundle install as the current user, and
bundler will ask for your password if it is needed to put the gems into
their final location.</pre>

<p>INSTALLING GROUPS</p>

<pre>By  default, bundle install will install all gems in all groups in your
Gemfile(5), except those declared for a different platform.

However, you can explicitly tell bundler  to  skip  installing  certain
groups  with  the --without option. This option takes a space-separated
list of groups.

While the --without option will skip installing the gems in the  speci-
fied  groups, it will still download those gems and use them to resolve
the dependencies of every gem in your Gemfile(5).

This is so that installing a different set of groups on another machine
(such  as  a  production  server) will not change the gems and versions
that you have already developed and tested against.

Bundler offers a rock-solid guarantee that the third-party code you are
running in development and testing is also the third-party code you are
running in production. You can choose to exclude some of that  code  in
different  environments,  but  you  will never be caught flat-footed by
different versions of third-party code being used in different environ-
ments.

For a simple illustration, consider the following Gemfile(5):

    source &quot;https://rubygems.org&quot;

    gem &quot;sinatra&quot;

    group :production do
      gem &quot;rack-perftools-profiler&quot;
    end

In  this  case,  sinatra  depends on any version of Rack (&gt;= 1.0, while
rack-perftools-profiler depends on 1.x (~&gt; 1.0).

When you run bundle install --without  production  in  development,  we
look  at the dependencies of rack-perftools-profiler as well. That way,
you do not spend all your time developing against Rack 2.0,  using  new
APIs  unavailable  in Rack 1.x, only to have bundler switch to Rack 1.2
when the production group is used.

This should not cause any problems  in  practice,  because  we  do  not
attempt  to  install the gems in the excluded groups, and only evaluate
as part of the dependency resolution process.

This also means that you cannot include different versions of the  same
gem  in  different  groups,  because doing so would result in different
sets of dependencies used in development and production. Because of the
vagaries  of  the  dependency  resolution process, this usually affects
more than just the gems you list in your Gemfile(5), and can  (surpris-
ingly) radically change the gems you are using.</pre>

<p>REMEMBERED OPTIONS</p>

<pre>Some  options  (marked  above  in  the  OPTIONS section) are remembered
between calls to bundle install, and by the Bundler runtime.

For instance, if you run bundle install --without  test,  a  subsequent
call  to  bundle  install  that  does not include a --without flag will
remember your previous choice.

In addition, a call to Bundler.setup will not attempt to make the  gems
in  those  groups  available  on  the  Ruby load path, as they were not
installed.

The settings that are remembered are:

--deployment
       At runtime, this remembered setting will also result in  Bundler
       raising an exception if the Gemfile.lock is out of date.

--path Subsequent  calls  to  bundle  install  will install gems to the
       directory originally passed to --path. The Bundler runtime  will
       look  for  gems  in that location. You can revert this option by
       running bundle install --system.

--binstubs
       Bundler will update the executables  every  subsequent  call  to
       bundle install.

--without
       As  described  above,  Bundler  will  skip the gems specified by
       --without in subsequent calls to  bundle  install.  The  Bundler
       runtime will also not try to make the gems in the skipped groups
       available.</pre>

<p>THE GEMFILE.LOCK</p>

<pre>When you run bundle install, Bundler will persist the  full  names  and
versions  of all gems that you used (including dependencies of the gems
specified in the Gemfile(5)) into a file called Gemfile.lock.

Bundler uses this file in all subsequent calls to bundle install, which
guarantees that you always use the same exact code, even as your appli-
cation moves across machines.

Because of the way dependency resolution works, even a seemingly  small
change (for instance, an update to a point-release of a dependency of a
gem in your Gemfile(5)) can result in radically  different  gems  being
needed to satisfy all dependencies.

As  a  result, you SHOULD check your Gemfile.lock into version control.
If you do not, every machine that checks out your repository (including
your production server) will resolve all dependencies again, which will
result in different versions of third-party code being used if  any  of
the  gems  in  the  Gemfile(5)  or  any of their dependencies have been
updated.</pre>

<p>CONSERVATIVE UPDATING</p>

<pre>When you make a change to the Gemfile(5) and then run  bundle  install,
Bundler will update only the gems that you modified.

In  other  words,  if  a  gem that you did not modify worked before you
called bundle install, it will continue to use the exact same  versions
of all dependencies as it used before the update.

Let's take a look at an example. Here's your original Gemfile(5):

    source &quot;https://rubygems.org&quot;

    gem &quot;actionpack&quot;, &quot;2.3.8&quot;
    gem &quot;activemerchant&quot;

In  this  case, both actionpack and activemerchant depend on activesup-
port. The actionpack gem depends on activesupport  2.3.8  and  rack  ~&gt;
1.1.0,  while the activemerchant gem depends on activesupport &gt;= 2.3.2,
braintree &gt;= 2.0.0, and builder &gt;= 2.0.0.

When  the  dependencies  are  first  resolved,  Bundler   will   select
activesupport  2.3.8,  which satisfies the requirements of both gems in
your Gemfile(5).

Next, you modify your Gemfile(5) to:

    source &quot;https://rubygems.org&quot;

    gem &quot;actionpack&quot;, &quot;3.0.0.rc&quot;
    gem &quot;activemerchant&quot;

The actionpack 3.0.0.rc gem has  a  number  of  new  dependencies,  and
updates  the activesupport dependency to = 3.0.0.rc and the rack depen-
dency to ~&gt; 1.2.1.

When you run bundle install,  Bundler  notices  that  you  changed  the
actionpack  gem,  but not the activemerchant gem. It evaluates the gems
currently being used to satisfy its requirements:

activesupport 2.3.8
       also used to satisfy a dependency in  activemerchant,  which  is
       not being updated

rack ~&gt; 1.1.0
       not currently being used to satisfy another dependency

Because  you did not explicitly ask to update activemerchant, you would
not expect it to suddenly stop working after updating actionpack.  How-
ever,  satisfying  the new activesupport 3.0.0.rc dependency of action-
pack requires updating one of its dependencies.

Even though activemerchant declares a very loose dependency that  theo-
retically  matches  activesupport 3.0.0.rc, bundler treats gems in your
Gemfile(5) that have not changed as an atomic unit together with  their
dependencies. In this case, the activemerchant dependency is treated as
activemerchant 1.7.1 + activesupport  2.3.8,  so  bundle  install  will
report that it cannot update actionpack.

To explicitly update actionpack, including its dependencies which other
gems in the Gemfile(5) still depend on, run  bundle  update  actionpack
(see bundle update(1)).

Summary:  In  general,  after  making  a change to the Gemfile(5) , you
should first try to run bundle install, which will  guarantee  that  no
other  gems  in the Gemfile(5) are impacted by the change. If that does
not work, run bundle update(1) bundle-update.1.html.</pre>

<p>SEE ALSO</p>

<pre>o   Gem install docs: http://docs.rubygems.org/read/chapter/2

o   Rubygems signing docs: http://docs.rubygems.org/read/chapter/21

                            June 2014                 BUNDLE-INSTALL(1)</pre>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

