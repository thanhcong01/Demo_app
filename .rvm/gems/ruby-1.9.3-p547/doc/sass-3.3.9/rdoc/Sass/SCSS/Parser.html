<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Sass::SCSS::Parser - sass-3.3.9 Documentation</title>

<link href="../../fonts.css" rel="stylesheet">
<link href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/navigation.js"></script>
<script src="../../js/search_index.js"></script>
<script src="../../js/search.js"></script>
<script src="../../js/searcher.js"></script>
<script src="../../js/darkfish.js"></script>


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="../../Object.html">Object</a>
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="RX.html">Sass::SCSS::RX</a>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-expected">::expected</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-_interp_string">#_interp_string</a>
    
    <li ><a href="#method-i-_moz_document_directive">#_moz_document_directive</a>
    
    <li ><a href="#method-i-_selector">#_selector</a>
    
    <li ><a href="#method-i-at_root_directive">#at_root_directive</a>
    
    <li ><a href="#method-i-at_root_directive_list">#at_root_directive_list</a>
    
    <li ><a href="#method-i-at_root_query">#at_root_query</a>
    
    <li ><a href="#method-i-attrib">#attrib</a>
    
    <li ><a href="#method-i-attrib_name-21">#attrib_name!</a>
    
    <li ><a href="#method-i-block">#block</a>
    
    <li ><a href="#method-i-block_child">#block_child</a>
    
    <li ><a href="#method-i-block_contents">#block_contents</a>
    
    <li ><a href="#method-i-catch_error">#catch_error</a>
    
    <li ><a href="#method-i-charset_directive">#charset_directive</a>
    
    <li ><a href="#method-i-class_selector">#class_selector</a>
    
    <li ><a href="#method-i-combinator">#combinator</a>
    
    <li ><a href="#method-i-content_directive">#content_directive</a>
    
    <li ><a href="#method-i-debug_directive">#debug_directive</a>
    
    <li ><a href="#method-i-declaration">#declaration</a>
    
    <li ><a href="#method-i-declaration_or_ruleset">#declaration_or_ruleset</a>
    
    <li ><a href="#method-i-directive">#directive</a>
    
    <li ><a href="#method-i-directive_body">#directive_body</a>
    
    <li ><a href="#method-i-each_directive">#each_directive</a>
    
    <li ><a href="#method-i-element_name">#element_name</a>
    
    <li ><a href="#method-i-else_block">#else_block</a>
    
    <li ><a href="#method-i-else_directive">#else_directive</a>
    
    <li ><a href="#method-i-err">#err</a>
    
    <li ><a href="#method-i-expected">#expected</a>
    
    <li ><a href="#method-i-expr">#expr</a>
    
    <li ><a href="#method-i-expr-21">#expr!</a>
    
    <li ><a href="#method-i-extend_directive">#extend_directive</a>
    
    <li ><a href="#method-i-for_directive">#for_directive</a>
    
    <li ><a href="#method-i-function">#function</a>
    
    <li ><a href="#method-i-function_directive">#function_directive</a>
    
    <li ><a href="#method-i-has_children-3F">#has_children?</a>
    
    <li ><a href="#method-i-id_selector">#id_selector</a>
    
    <li ><a href="#method-i-if_directive">#if_directive</a>
    
    <li ><a href="#method-i-import_arg">#import_arg</a>
    
    <li ><a href="#method-i-import_directive">#import_directive</a>
    
    <li ><a href="#method-i-include_directive">#include_directive</a>
    
    <li ><a href="#method-i-init_scanner-21">#init_scanner!</a>
    
    <li ><a href="#method-i-interp_ident">#interp_ident</a>
    
    <li ><a href="#method-i-interp_ident_or_var">#interp_ident_or_var</a>
    
    <li ><a href="#method-i-interp_name">#interp_name</a>
    
    <li ><a href="#method-i-interp_string">#interp_string</a>
    
    <li ><a href="#method-i-interp_uri">#interp_uri</a>
    
    <li ><a href="#method-i-interpolation">#interpolation</a>
    
    <li ><a href="#method-i-interpolation_selector">#interpolation_selector</a>
    
    <li ><a href="#method-i-media_directive">#media_directive</a>
    
    <li ><a href="#method-i-media_expr">#media_expr</a>
    
    <li ><a href="#method-i-media_query">#media_query</a>
    
    <li ><a href="#method-i-media_query_list">#media_query_list</a>
    
    <li ><a href="#method-i-merge">#merge</a>
    
    <li ><a href="#method-i-mixin_directive">#mixin_directive</a>
    
    <li ><a href="#method-i-moz_document_function">#moz_document_function</a>
    
    <li ><a href="#method-i-nested_properties-21">#nested_properties!</a>
    
    <li ><a href="#method-i-node">#node</a>
    
    <li ><a href="#method-i-operator">#operator</a>
    
    <li ><a href="#method-i-parent_selector">#parent_selector</a>
    
    <li ><a href="#method-i-parse">#parse</a>
    
    <li ><a href="#method-i-parse_at_root_query">#parse_at_root_query</a>
    
    <li ><a href="#method-i-parse_interp_ident">#parse_interp_ident</a>
    
    <li ><a href="#method-i-parse_media_query_list">#parse_media_query_list</a>
    
    <li ><a href="#method-i-parse_supports_condition">#parse_supports_condition</a>
    
    <li ><a href="#method-i-placeholder_selector">#placeholder_selector</a>
    
    <li ><a href="#method-i-prefixed_directive">#prefixed_directive</a>
    
    <li ><a href="#method-i-process_comment">#process_comment</a>
    
    <li ><a href="#method-i-pseudo">#pseudo</a>
    
    <li ><a href="#method-i-pseudo_arg">#pseudo_arg</a>
    
    <li ><a href="#method-i-pseudo_expr">#pseudo_expr</a>
    
    <li ><a href="#method-i-pseudo_expr_token">#pseudo_expr_token</a>
    
    <li ><a href="#method-i-qualified_name">#qualified_name</a>
    
    <li ><a href="#method-i-query_expr">#query_expr</a>
    
    <li ><a href="#method-i-range">#range</a>
    
    <li ><a href="#method-i-reference_combinator">#reference_combinator</a>
    
    <li ><a href="#method-i-rethrow">#rethrow</a>
    
    <li ><a href="#method-i-return_directive">#return_directive</a>
    
    <li ><a href="#method-i-ruleset">#ruleset</a>
    
    <li ><a href="#method-i-s">#s</a>
    
    <li ><a href="#method-i-sass_script">#sass_script</a>
    
    <li ><a href="#method-i-selector">#selector</a>
    
    <li ><a href="#method-i-selector_comma_sequence">#selector_comma_sequence</a>
    
    <li ><a href="#method-i-selector_sequence">#selector_sequence</a>
    
    <li ><a href="#method-i-simple_selector_sequence">#simple_selector_sequence</a>
    
    <li ><a href="#method-i-source_position">#source_position</a>
    
    <li ><a href="#method-i-special_directive">#special_directive</a>
    
    <li ><a href="#method-i-ss">#ss</a>
    
    <li ><a href="#method-i-ss_comments">#ss_comments</a>
    
    <li ><a href="#method-i-str">#str</a>
    
    <li ><a href="#method-i-str-3F">#str?</a>
    
    <li ><a href="#method-i-stylesheet">#stylesheet</a>
    
    <li ><a href="#method-i-supports_condition">#supports_condition</a>
    
    <li ><a href="#method-i-supports_condition_in_parens">#supports_condition_in_parens</a>
    
    <li ><a href="#method-i-supports_declaration_condition">#supports_declaration_condition</a>
    
    <li ><a href="#method-i-supports_directive">#supports_directive</a>
    
    <li ><a href="#method-i-supports_interpolation">#supports_interpolation</a>
    
    <li ><a href="#method-i-supports_negation">#supports_negation</a>
    
    <li ><a href="#method-i-supports_operator">#supports_operator</a>
    
    <li ><a href="#method-i-term">#term</a>
    
    <li ><a href="#method-i-throw_error">#throw_error</a>
    
    <li ><a href="#method-i-tok">#tok</a>
    
    <li ><a href="#method-i-tok-21">#tok!</a>
    
    <li ><a href="#method-i-tok-3F">#tok?</a>
    
    <li ><a href="#method-i-use_css_import-3F">#use_css_import?</a>
    
    <li ><a href="#method-i-value-21">#value!</a>
    
    <li ><a href="#method-i-var_expr">#var_expr</a>
    
    <li ><a href="#method-i-variable">#variable</a>
    
    <li ><a href="#method-i-warn_directive">#warn_directive</a>
    
    <li ><a href="#method-i-while_directive">#while_directive</a>
    
    <li ><a href="#method-i-whitespace">#whitespace</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Sass::SCSS::Parser">
  <h1 id="class-Sass::SCSS::Parser" class="class">
    class Sass::SCSS::Parser
  </h1>

  <section class="description">
    
<p>The parser for <a href="../SCSS.html">SCSS</a>. It parses a string of code
into a tree of {Sass::Tree::Node}s.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="DIRECTIVES">DIRECTIVES
        
        <dd>
        
      
        <dt id="EXPR_NAMES">EXPR_NAMES
        
        <dd>
        
      
        <dt id="NEWLINE">NEWLINE
        
        <dd><p>Avoid allocating lots of new strings for `#tok`. This is important because
`#tok` is called all the time.</p>
        
      
        <dt id="PREFIXED_DIRECTIVES">PREFIXED_DIRECTIVES
        
        <dd>
        
      
        <dt id="TOK_NAMES">TOK_NAMES
        
        <dd>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-c-sass_script_parser" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">sass_script_parser</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>@private</p>
        
        </div>
      </div>
      
      <div id="attribute-i-offset" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">offset</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Expose for the SASS parser.</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(str, filename, importer, line = 1, offset = 1)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param str [String, StringScanner] The source document to parse.</p>

<pre>Note that `Parser` *won't* raise a nice error message if this isn't properly parsed;
for that, you should use the higher-level {Sass::Engine} or {Sass::CSS}.</pre>

<p>@param filename [String] The name of the file being parsed. Used for</p>

<pre>warnings and source maps.</pre>

<p>@param importer [Sass::Importers::Base] The importer used to import the</p>

<pre>file being parsed. Used for source maps.</pre>

<p>@param line [Fixnum] The 1-based line on which the source string appeared,</p>

<pre>if it's part of another document.</pre>

<p>@param offset [Fixnum] The 1-based character (not byte) offset in the line
on</p>

<pre>which the source string starts. Used for error reporting and sourcemap
building.</pre>

<p>@comment</p>

<pre>rubocop:disable ParameterLists</pre>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">importer</span>, <span class="ruby-identifier">line</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">offset</span> = <span class="ruby-value">1</span>)
  <span class="ruby-comment"># rubocop:enable ParameterLists</span>
  <span class="ruby-ivar">@template</span> = <span class="ruby-identifier">str</span>
  <span class="ruby-ivar">@filename</span> = <span class="ruby-identifier">filename</span>
  <span class="ruby-ivar">@importer</span> = <span class="ruby-identifier">importer</span>
  <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
  <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">offset</span>
  <span class="ruby-ivar">@strs</span> = []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Class Methods</h3>
       </header>

    
      <div id="method-c-expected" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expected</span><span
            class="method-args">(scanner, expected, line)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@private</p>
          
          

          
          <div class="method-source-code" id="expected-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1293</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">expected</span>(<span class="ruby-identifier">scanner</span>, <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">line</span>)
  <span class="ruby-identifier">pos</span> = <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">pos</span>

  <span class="ruby-identifier">after</span> = <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">string</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">pos</span>]
  <span class="ruby-comment"># Get rid of whitespace between pos and the last token,</span>
  <span class="ruby-comment"># but only if there's a newline in there</span>
  <span class="ruby-identifier">after</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/\s*\n\s*$/</span>, <span class="ruby-string">''</span>)
  <span class="ruby-comment"># Also get rid of stuff before the last newline</span>
  <span class="ruby-identifier">after</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/.*\n/</span>, <span class="ruby-string">''</span>)
  <span class="ruby-identifier">after</span> = <span class="ruby-string">&quot;...&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">after</span>[<span class="ruby-value">-15</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">after</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">18</span>

  <span class="ruby-identifier">was</span> = <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">rest</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-comment"># Get rid of whitespace between pos and the next token,</span>
  <span class="ruby-comment"># but only if there's a newline in there</span>
  <span class="ruby-identifier">was</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/^\s*\n\s*/</span>, <span class="ruby-string">''</span>)
  <span class="ruby-comment"># Also get rid of stuff after the next newline</span>
  <span class="ruby-identifier">was</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/\n.*/</span>, <span class="ruby-string">''</span>)
  <span class="ruby-identifier">was</span> = <span class="ruby-identifier">was</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-value">15</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;...&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">was</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">18</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>.<span class="ruby-identifier">new</span>(
    <span class="ruby-node">&quot;Invalid CSS after \&quot;#{after}\&quot;: expected #{expected}, was \&quot;#{was}\&quot;&quot;</span>,
    <span class="ruby-value">:line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">line</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-parse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Parses an <a href="../SCSS.html">SCSS</a> document.</p>

<p>@return [Sass::Tree::RootNode] The root node of the document tree @raise
[Sass::SyntaxError] if there’s a syntax error in the document</p>
          
          

          
          <div class="method-source-code" id="parse-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse</span>
  <span class="ruby-identifier">init_scanner!</span>
  <span class="ruby-identifier">root</span> = <span class="ruby-identifier">stylesheet</span>
  <span class="ruby-identifier">expected</span>(<span class="ruby-string">&quot;selector or at-rule&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">root</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">eos?</span>
  <span class="ruby-identifier">root</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parse_at_root_query" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_at_root_query</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Parses an at-root query.</p>

<p>@return [Array&lt;String, <a
href="../Script.html">Sass::Script</a>;:Tree::Node&gt;] The interpolated
query. @raise [Sass::SyntaxError] if there’s a syntax error in the query,</p>

<pre>or if it doesn't take up the entire input string.</pre>
          
          

          
          <div class="method-source-code" id="parse_at_root_query-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_at_root_query</span>
  <span class="ruby-identifier">init_scanner!</span>
  <span class="ruby-identifier">query</span> = <span class="ruby-identifier">at_root_query</span>
  <span class="ruby-identifier">expected</span>(<span class="ruby-string">&quot;@at-root query list&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">query</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">eos?</span>
  <span class="ruby-identifier">query</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parse_interp_ident" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_interp_ident</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Parses an identifier with interpolation. Note that this won’t assert that
the identifier takes up the entire input string; it’s meant to be used with
`StringScanner`s as part of other parsers.</p>

<p>@return [Array&lt;String, Sass::Script::Tree::Node&gt;, nil]</p>

<pre>The interpolated identifier, or nil if none could be parsed</pre>
          
          

          
          <div class="method-source-code" id="parse_interp_ident-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_interp_ident</span>
  <span class="ruby-identifier">init_scanner!</span>
  <span class="ruby-identifier">interp_ident</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parse_media_query_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_media_query_list</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Parses a media query list.</p>

<p>@return [Sass::Media::QueryList] The parsed query list @raise
[Sass::SyntaxError] if there’s a syntax error in the query list,</p>

<pre>or if it doesn't take up the entire input string.</pre>
          
          

          
          <div class="method-source-code" id="parse_media_query_list-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_media_query_list</span>
  <span class="ruby-identifier">init_scanner!</span>
  <span class="ruby-identifier">ql</span> = <span class="ruby-identifier">media_query_list</span>
  <span class="ruby-identifier">expected</span>(<span class="ruby-string">&quot;media query list&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ql</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">eos?</span>
  <span class="ruby-identifier">ql</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parse_supports_condition" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_supports_condition</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Parses a supports query condition.</p>

<p>@return [Sass::Supports::Condition] The parsed condition @raise
[Sass::SyntaxError] if there’s a syntax error in the condition,</p>

<pre>or if it doesn't take up the entire input string.</pre>
          
          

          
          <div class="method-source-code" id="parse_supports_condition-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_supports_condition</span>
  <span class="ruby-identifier">init_scanner!</span>
  <span class="ruby-identifier">condition</span> = <span class="ruby-identifier">supports_condition</span>
  <span class="ruby-identifier">expected</span>(<span class="ruby-string">&quot;supports condition&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">condition</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">eos?</span>
  <span class="ruby-identifier">condition</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-_interp_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_interp_string</span><span
            class="method-args">(type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="_interp_string-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1099</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_interp_string</span>(<span class="ruby-identifier">type</span>)
  <span class="ruby-identifier">start</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Lexer</span><span class="ruby-operator">::</span><span class="ruby-constant">STRING_REGULAR_EXPRESSIONS</span>[<span class="ruby-identifier">type</span>][<span class="ruby-keyword">false</span>])
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">start</span>
  <span class="ruby-identifier">res</span> = [<span class="ruby-identifier">start</span>]

  <span class="ruby-identifier">mid_re</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Lexer</span><span class="ruby-operator">::</span><span class="ruby-constant">STRING_REGULAR_EXPRESSIONS</span>[<span class="ruby-identifier">type</span>][<span class="ruby-keyword">true</span>]
  <span class="ruby-comment"># @scanner[2].empty? means we've started an interpolated section</span>
  <span class="ruby-keyword">while</span> <span class="ruby-ivar">@scanner</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'#{'</span>
    <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> <span class="ruby-operator">-=</span> <span class="ruby-value">2</span> <span class="ruby-comment"># Don't consume the #{</span>
    <span class="ruby-identifier">res</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">-2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>)
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interpolation</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">tok</span>(<span class="ruby-identifier">mid_re</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-_moz_document_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_moz_document_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The document directive is specified in <a
href="http://www.w3.org/TR/css3-conditional">www.w3.org/TR/css3-conditional</a>/,
but Gecko allows the `url-prefix` and `domain` functions to omit quotation
marks, contrary to the standard.</p>

<p>We could parse all document directives according to Mozilla’s syntax, but
if someone’s using e.g. @-webkit-document we don’t want them to think
WebKit works sans quotes.</p>
          
          

          
          <div class="method-source-code" id="_moz_document_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 493</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_moz_document_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">res</span> = [<span class="ruby-string">&quot;@-moz-document &quot;</span>]
  <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>} <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:moz_document_function</span>)
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">c</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/,/</span>))
      <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">directive_body</span>(<span class="ruby-identifier">res</span>.<span class="ruby-identifier">flatten</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-_selector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_selector</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="_selector-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 750</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_selector</span>
  <span class="ruby-comment"># The combinator here allows the &quot;&gt; E&quot; hack</span>
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">combinator</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">simple_selector_sequence</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">val</span>
  <span class="ruby-identifier">nl</span> = <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-identifier">res</span> = []
  <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">val</span>
  <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">nl</span>

  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">val</span> = <span class="ruby-identifier">combinator</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">simple_selector_sequence</span>)
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">val</span>
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Sequence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">res</span>.<span class="ruby-identifier">compact</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-at_root_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">at_root_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="at_root_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 514</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">at_root_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/\(/</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">expr</span> = <span class="ruby-identifier">at_root_query</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">AtRootNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:directive</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">at_root_node</span> = <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">AtRootNode</span>.<span class="ruby-identifier">new</span>, <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">rule_node</span> = <span class="ruby-identifier">ruleset</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">block</span>(<span class="ruby-identifier">at_root_node</span>, <span class="ruby-value">:stylesheet</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">rule_node</span>
  <span class="ruby-identifier">at_root_node</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rule_node</span>
  <span class="ruby-identifier">at_root_node</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-at_root_directive_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">at_root_directive_list</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="at_root_directive_list-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 526</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">at_root_directive_list</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">first</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">IDENT</span>))
  <span class="ruby-identifier">arr</span> = [<span class="ruby-identifier">first</span>]
  <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">e</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">IDENT</span>))
    <span class="ruby-identifier">arr</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">arr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-at_root_query" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">at_root_query</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Parser.html#method-i-query_expr">query_expr</a>
        </div>
        
      </div>

    
      <div id="method-i-attrib" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">attrib</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="attrib-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 868</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">attrib</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\[/</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">attrib_name!</span>
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">op</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/=/</span>) <span class="ruby-operator">||</span>
       <span class="ruby-identifier">tok</span>(<span class="ruby-constant">INCLUDES</span>) <span class="ruby-operator">||</span>
       <span class="ruby-identifier">tok</span>(<span class="ruby-constant">DASHMATCH</span>) <span class="ruby-operator">||</span>
       <span class="ruby-identifier">tok</span>(<span class="ruby-constant">PREFIXMATCH</span>) <span class="ruby-operator">||</span>
       <span class="ruby-identifier">tok</span>(<span class="ruby-constant">SUFFIXMATCH</span>) <span class="ruby-operator">||</span>
       <span class="ruby-identifier">tok</span>(<span class="ruby-constant">SUBSTRINGMATCH</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">op</span>
    <span class="ruby-ivar">@expected</span> = <span class="ruby-string">&quot;identifier or string&quot;</span>
    <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">val</span> = <span class="ruby-identifier">interp_ident</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_string</span>)
    <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">flags</span> = <span class="ruby-identifier">interp_ident</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">interp_string</span>
  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\]/</span>)

  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Attribute</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">name</span>), <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">ns</span>), <span class="ruby-identifier">op</span>, <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">val</span>), <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">flags</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-attrib_name-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">attrib_name!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="attrib_name-21-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 892</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">attrib_name!</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">name_or_ns</span> = <span class="ruby-identifier">interp_ident</span>)
    <span class="ruby-comment"># E, E|E</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\|(?!=)/</span>)
      <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">name_or_ns</span>
      <span class="ruby-identifier">name</span> = <span class="ruby-identifier">interp_ident</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name_or_ns</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># *|E or |E</span>
    <span class="ruby-identifier">ns</span> = [<span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\*/</span>) <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>]
    <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\|/</span>)
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_ident</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-block" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">block</span><span
            class="method-args">(node, context)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="block-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 638</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">context</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">has_children</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\{/</span>)
  <span class="ruby-identifier">block_contents</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">context</span>)
  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\}/</span>)
  <span class="ruby-identifier">node</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-block_child" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">block_child</span><span
            class="method-args">(context)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="block_child-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 657</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">block_child</span>(<span class="ruby-identifier">context</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">variable</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">directive</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">context</span> <span class="ruby-operator">==</span> <span class="ruby-value">:function</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">variable</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">directive</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">ruleset</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">context</span> <span class="ruby-operator">==</span> <span class="ruby-value">:stylesheet</span>
  <span class="ruby-identifier">variable</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">directive</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">declaration_or_ruleset</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-block_contents" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">block_contents</span><span
            class="method-args">(node, context) { |: ss_comments(node)| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A block may contain declarations and/or rulesets</p>
          
          

          
          <div class="method-source-code" id="block_contents-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 647</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">block_contents</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">context</span>)
  <span class="ruby-identifier">block_given?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ss_comments</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">node</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">child</span> = <span class="ruby-identifier">block_child</span>(<span class="ruby-identifier">context</span>))
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/;/</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">has_children?</span>(<span class="ruby-identifier">child</span>)
    <span class="ruby-identifier">block_given?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ss_comments</span>(<span class="ruby-identifier">node</span>)
    <span class="ruby-identifier">node</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">child</span> = <span class="ruby-identifier">block_child</span>(<span class="ruby-identifier">context</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">node</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-catch_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">catch_error</span><span
            class="method-args">() { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="catch_error-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">catch_error</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">old_throw_error</span>, <span class="ruby-ivar">@throw_error</span> = <span class="ruby-ivar">@throw_error</span>, <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">pos</span> = <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-ivar">@line</span>
  <span class="ruby-identifier">offset</span> = <span class="ruby-ivar">@offset</span>
  <span class="ruby-identifier">expected</span> = <span class="ruby-ivar">@expected</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">catch</span>(<span class="ruby-value">:_sass_parser_error</span>) {<span class="ruby-keyword">yield</span>; <span class="ruby-keyword">false</span>}
    <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">pos</span>
    <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
    <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">offset</span>
    <span class="ruby-ivar">@expected</span> = <span class="ruby-identifier">expected</span>
    {<span class="ruby-value">:pos</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">pos</span>, <span class="ruby-value">:line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">line</span>, <span class="ruby-value">:expected</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@expected</span>, <span class="ruby-value">:block</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">block</span>}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-ivar">@throw_error</span> = <span class="ruby-identifier">old_throw_error</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-charset_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">charset_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="charset_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 478</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">charset_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">tok!</span> <span class="ruby-constant">STRING</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-ivar">@scanner</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@scanner</span>[<span class="ruby-value">2</span>]
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">CharsetNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>), <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-class_selector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">class_selector</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="class_selector-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 823</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">class_selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\./</span>)
  <span class="ruby-ivar">@expected</span> = <span class="ruby-string">&quot;class name&quot;</span>
  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_ident</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-combinator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">combinator</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="combinator-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 766</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">combinator</span>
  <span class="ruby-identifier">tok</span>(<span class="ruby-constant">PLUS</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">GREATER</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">TILDE</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">reference_combinator</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="content_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">ContentNode</span>.<span class="ruby-identifier">new</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-debug_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">debug_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="debug_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 266</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">debug_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">DebugNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)), <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-declaration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">declaration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="declaration-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 967</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">declaration</span>
  <span class="ruby-comment"># This allows the &quot;*prop: val&quot;, &quot;:prop: val&quot;, and &quot;.prop: val&quot; hacks</span>
  <span class="ruby-identifier">name_start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">s</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-node">/[:\*\.]|\#(?!\{)/</span>))
    <span class="ruby-ivar">@use_property_exception</span> = <span class="ruby-identifier">s</span> <span class="ruby-operator">!~</span> <span class="ruby-node">/[\.\#]/</span>
    <span class="ruby-identifier">name</span> = [<span class="ruby-identifier">s</span>, <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}, <span class="ruby-operator">*</span><span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_ident</span>)]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">interp_ident</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>
    <span class="ruby-identifier">name</span> = [<span class="ruby-identifier">name</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">comment</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">COMMENT</span>))
    <span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">comment</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">name_end_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/:/</span>)
  <span class="ruby-identifier">value_start_pos</span>, <span class="ruby-identifier">space</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">value!</span>
  <span class="ruby-identifier">value_end_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">require_block</span> = <span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/\{/</span>)

  <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">PropNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>, <span class="ruby-identifier">value</span>, <span class="ruby-value">:new</span>),
              <span class="ruby-identifier">name_start_pos</span>, <span class="ruby-identifier">value_end_pos</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name_source_range</span> = <span class="ruby-identifier">range</span>(<span class="ruby-identifier">name_start_pos</span>, <span class="ruby-identifier">name_end_pos</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value_source_range</span> = <span class="ruby-identifier">range</span>(<span class="ruby-identifier">value_start_pos</span>, <span class="ruby-identifier">value_end_pos</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">node</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">require_block</span>
  <span class="ruby-identifier">nested_properties!</span> <span class="ruby-identifier">node</span>, <span class="ruby-identifier">space</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-declaration_or_ruleset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">declaration_or_ruleset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This is a nasty hack, and the only place in the parser that requires a
large amount of backtracking. The reason is that we can’t figure out if
certain strings are declarations or rulesets with fixed finite lookahead.
For example, “foo:bar baz baz baz…” could be either a property or a
selector.</p>

<p>To handle this, we simply check if it works as a property (which is the
most common case) and, if it doesn’t, try it as a ruleset.</p>

<p>We could eke some more efficiency out of this by handling some easy cases
(first token isn’t an identifier, no colon after the identifier, whitespace
after the colon), but I’m not sure the gains would be worth the added
complexity.</p>
          
          

          
          <div class="method-source-code" id="declaration_or_ruleset-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 684</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">declaration_or_ruleset</span>
  <span class="ruby-identifier">old_use_property_exception</span>, <span class="ruby-ivar">@use_property_exception</span> =
    <span class="ruby-ivar">@use_property_exception</span>, <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">decl_err</span> = <span class="ruby-identifier">catch_error</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">decl</span> = <span class="ruby-identifier">declaration</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">decl</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">decl</span>.<span class="ruby-identifier">has_children</span>
      <span class="ruby-comment"># We want an exception if it's not there,</span>
      <span class="ruby-comment"># but we don't want to consume if it is</span>
      <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/[;}]/</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/[;}]/</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">decl</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">ruleset_err</span> = <span class="ruby-identifier">catch_error</span> {<span class="ruby-keyword">return</span> <span class="ruby-identifier">ruleset</span>}
  <span class="ruby-identifier">rethrow</span>(<span class="ruby-ivar">@use_property_exception</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">decl_err</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ruleset_err</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-ivar">@use_property_exception</span> = <span class="ruby-identifier">old_use_property_exception</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">directive</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">directive</span>
  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/@/</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">tok!</span>(<span class="ruby-constant">IDENT</span>)
  <span class="ruby-identifier">ss</span>

  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">dir</span> = <span class="ruby-identifier">special_directive</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">start_pos</span>))
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">dir</span>
  <span class="ruby-keyword">elsif</span> (<span class="ruby-identifier">dir</span> = <span class="ruby-identifier">prefixed_directive</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">start_pos</span>))
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">dir</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Most at-rules take expressions (e.g. @import),</span>
  <span class="ruby-comment"># but some (e.g. @page) take selector-like arguments.</span>
  <span class="ruby-comment"># Some take no arguments at all.</span>
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">expr</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">selector</span>
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">val</span> <span class="ruby-operator">?</span> [<span class="ruby-node">&quot;@#{name} &quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">strip_string_array</span>(<span class="ruby-identifier">val</span>) <span class="ruby-operator">:</span> [<span class="ruby-node">&quot;@#{name}&quot;</span>]
  <span class="ruby-identifier">directive_body</span>(<span class="ruby-identifier">val</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-directive_body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">directive_body</span><span
            class="method-args">(value, start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="directive_body-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">directive_body</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">node</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">DirectiveNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\{/</span>)
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">has_children</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">block_contents</span>(<span class="ruby-identifier">node</span>, <span class="ruby-value">:directive</span>)
    <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\}/</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">node</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-each_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="each_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 291</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\$/</span>)
  <span class="ruby-identifier">vars</span> = [<span class="ruby-identifier">tok!</span>(<span class="ruby-constant">IDENT</span>)]
  <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/,/</span>)
    <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\$/</span>)
    <span class="ruby-identifier">vars</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">tok!</span>(<span class="ruby-constant">IDENT</span>)
    <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/in/</span>)
  <span class="ruby-identifier">list</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">EachNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">vars</span>, <span class="ruby-identifier">list</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:directive</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-element_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">element_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="element_name-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 841</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">element_name</span>
  <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">name</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">destructure</span>(<span class="ruby-identifier">qualified_name</span>(<span class="ruby-value">:allow_star_name</span>))
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ns</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'*'</span>
    <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Universal</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">ns</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">name</span>), <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">ns</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-else_block" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">else_block</span><span
            class="method-args">(node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="else_block-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 332</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">else_block</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/@else/</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">else_node</span> = <span class="ruby-identifier">block</span>(
    <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">IfNode</span>.<span class="ruby-identifier">new</span>((<span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/if/</span>))), <span class="ruby-identifier">start_pos</span>),
    <span class="ruby-value">:directive</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_else</span>(<span class="ruby-identifier">else_node</span>)
  <span class="ruby-identifier">pos</span> = <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-ivar">@line</span>
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">else_block</span>(<span class="ruby-identifier">node</span>) <span class="ruby-operator">||</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-comment"># Backtrack in case there are any comments we want to parse</span>
      <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">pos</span>
      <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
      <span class="ruby-identifier">node</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-else_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">else_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="else_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">else_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">err</span>(<span class="ruby-string">&quot;Invalid CSS: @else must come after @if&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-err" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">err</span><span
            class="method-args">(msg)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="err-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1251</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">err</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-identifier">throw</span>(<span class="ruby-value">:_sass_parser_error</span>, <span class="ruby-keyword">true</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@throw_error</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">msg</span>, <span class="ruby-value">:line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@line</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-expected" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expected</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="expected-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1246</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expected</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">throw</span>(<span class="ruby-value">:_sass_parser_error</span>, <span class="ruby-keyword">true</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@throw_error</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">expected</span>(<span class="ruby-ivar">@scanner</span>, <span class="ruby-ivar">@expected</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>, <span class="ruby-ivar">@line</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expr</span><span
            class="method-args">(allow_var = true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="expr-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1037</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expr</span>(<span class="ruby-identifier">allow_var</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-identifier">term</span>(<span class="ruby-identifier">allow_var</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">t</span>
  <span class="ruby-identifier">res</span> = [<span class="ruby-identifier">t</span>, <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}]

  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">o</span> = <span class="ruby-identifier">operator</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">t</span> = <span class="ruby-identifier">term</span>(<span class="ruby-identifier">allow_var</span>))
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">res</span>.<span class="ruby-identifier">flatten</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-expr-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expr!</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="expr-21-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">e</span> = <span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">expected</span>(<span class="ruby-constant">EXPR_NAMES</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extend_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extend_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="extend_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extend_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">selector_range</span> = <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:selector_sequence</span>)
  <span class="ruby-identifier">optional</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">OPTIONAL</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">ExtendNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">optional</span>, <span class="ruby-identifier">selector_range</span>), <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-for_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">for_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="for_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 274</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">for_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\$/</span>)
  <span class="ruby-identifier">var</span> = <span class="ruby-identifier">tok!</span> <span class="ruby-constant">IDENT</span>
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/from/</span>)
  <span class="ruby-identifier">from</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse_until</span>, <span class="ruby-constant">Set</span>[<span class="ruby-string">&quot;to&quot;</span>, <span class="ruby-string">&quot;through&quot;</span>])
  <span class="ruby-identifier">ss</span>

  <span class="ruby-ivar">@expected</span> = <span class="ruby-string">'&quot;to&quot; or &quot;through&quot;'</span>
  <span class="ruby-identifier">exclusive</span> = (<span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/to/</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/through/</span>)) <span class="ruby-operator">==</span> <span class="ruby-string">'to'</span>
  <span class="ruby-identifier">to</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">ForNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">var</span>, <span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span>, <span class="ruby-identifier">exclusive</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:directive</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-function" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">function</span><span
            class="method-args">(allow_var)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="function-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1067</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">function</span>(<span class="ruby-identifier">allow_var</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">FUNCTION</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;expression(&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;calc(&quot;</span>
    <span class="ruby-identifier">str</span>, <span class="ruby-identifier">_</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Shared</span>.<span class="ruby-identifier">balance</span>(<span class="ruby-ivar">@scanner</span>, <span class="ruby-value">?(</span>, <span class="ruby-value">?)</span>, <span class="ruby-value">1</span>)
    [<span class="ruby-identifier">name</span>, <span class="ruby-identifier">str</span>]
  <span class="ruby-keyword">else</span>
    [<span class="ruby-identifier">name</span>, <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}, <span class="ruby-identifier">expr</span>(<span class="ruby-identifier">allow_var</span>), <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\)/</span>)]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-function_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">function_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="function_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">function_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">tok!</span> <span class="ruby-constant">IDENT</span>
  <span class="ruby-identifier">args</span>, <span class="ruby-identifier">splat</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse_function_definition_arglist</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">FunctionNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">splat</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:function</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-has_children-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">has_children?</span><span
            class="method-args">(child_or_array)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="has_children-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 663</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_children?</span>(<span class="ruby-identifier">child_or_array</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">child_or_array</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">child_or_array</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">has_children</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">child_or_array</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
  <span class="ruby-identifier">child_or_array</span>.<span class="ruby-identifier">has_children</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-id_selector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">id_selector</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="id_selector-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 829</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">id_selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-node">/#(?!\{)/</span>)
  <span class="ruby-ivar">@expected</span> = <span class="ruby-string">&quot;id name&quot;</span>
  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Id</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_name</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-if_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">if_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="if_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">if_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">node</span> = <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">IfNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:directive</span>)
  <span class="ruby-identifier">pos</span> = <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-ivar">@line</span>
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">else_block</span>(<span class="ruby-identifier">node</span>) <span class="ruby-operator">||</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-comment"># Backtrack in case there are any comments we want to parse</span>
      <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">pos</span>
      <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
      <span class="ruby-identifier">node</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-import_arg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">import_arg</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="import_arg-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">import_arg</span>
  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">str</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">STRING</span>)) <span class="ruby-operator">||</span> (<span class="ruby-identifier">uri</span> = <span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/url\(/i</span>))
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">uri</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse_string</span>)
    <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">media</span> = <span class="ruby-identifier">media_query_list</span>
    <span class="ruby-identifier">ss</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">node</span>(<span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">CssImportNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">media</span>.<span class="ruby-identifier">to_a</span>), <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">path</span> = <span class="ruby-ivar">@scanner</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@scanner</span>[<span class="ruby-value">2</span>]
  <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">media</span> = <span class="ruby-identifier">media_query_list</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^(https?:)?//}</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">media</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">use_css_import?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">CssImportNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">media</span>.<span class="ruby-identifier">to_a</span>), <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">ImportNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">strip</span>), <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-import_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">import_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="import_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">import_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">values</span> = []

  <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">values</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:import_arg</span>)
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_css_import?</span>
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/,/</span>)
    <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">values</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-include_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">include_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="include_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">include_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">tok!</span> <span class="ruby-constant">IDENT</span>
  <span class="ruby-identifier">args</span>, <span class="ruby-identifier">keywords</span>, <span class="ruby-identifier">splat</span>, <span class="ruby-identifier">kwarg_splat</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse_mixin_include_arglist</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">include_node</span> = <span class="ruby-identifier">node</span>(
    <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">MixinNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">keywords</span>, <span class="ruby-identifier">splat</span>, <span class="ruby-identifier">kwarg_splat</span>), <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/\{/</span>)
    <span class="ruby-identifier">include_node</span>.<span class="ruby-identifier">has_children</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">block</span>(<span class="ruby-identifier">include_node</span>, <span class="ruby-value">:directive</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">include_node</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-init_scanner-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init_scanner!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="init_scanner-21-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">init_scanner!</span>
  <span class="ruby-ivar">@scanner</span> =
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@template</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">StringScanner</span>)
      <span class="ruby-ivar">@template</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">MultibyteStringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@template</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;\r&quot;</span>, <span class="ruby-string">&quot;&quot;</span>))
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-interp_ident" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interp_ident</span><span
            class="method-args">(start = IDENT)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="interp_ident-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interp_ident</span>(<span class="ruby-identifier">start</span> = <span class="ruby-constant">IDENT</span>)
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-identifier">start</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">interpolation</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">IDENT_HYPHEN_INTERP</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">val</span>
  <span class="ruby-identifier">res</span> = [<span class="ruby-identifier">val</span>]
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">val</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">NAME</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">interpolation</span>)
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">val</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-interp_ident_or_var" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interp_ident_or_var</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="interp_ident_or_var-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interp_ident_or_var</span>
  <span class="ruby-identifier">id</span> = <span class="ruby-identifier">interp_ident</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">id</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>
  <span class="ruby-identifier">var</span> = <span class="ruby-identifier">var_expr</span>
  <span class="ruby-keyword">return</span> [<span class="ruby-identifier">var</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">var</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-interp_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interp_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="interp_name-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interp_name</span>
  <span class="ruby-identifier">interp_ident</span> <span class="ruby-constant">NAME</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-interp_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interp_string</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="interp_string-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1091</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interp_string</span>
  <span class="ruby-identifier">_interp_string</span>(<span class="ruby-value">:double</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">_interp_string</span>(<span class="ruby-value">:single</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-interp_uri" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interp_uri</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="interp_uri-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1095</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interp_uri</span>
  <span class="ruby-identifier">_interp_string</span>(<span class="ruby-value">:uri</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-interpolation" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interpolation</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="interpolation-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1086</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interpolation</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">INTERP_START</span>)
  <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse_interpolated</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-interpolation_selector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">interpolation_selector</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="interpolation_selector-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 862</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">interpolation_selector</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">script</span> = <span class="ruby-identifier">interpolation</span>)
    <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Interpolation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">script</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-media_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">media_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="media_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">media_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">MediaNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr!</span>(<span class="ruby-value">:media_query_list</span>).<span class="ruby-identifier">to_a</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:directive</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-media_expr" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">media_expr</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Aliases allow us to use different descriptions if the same expression fails
in different contexts.</p>
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Parser.html#method-i-query_expr">query_expr</a>
        </div>
        
      </div>

    
      <div id="method-i-media_query" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">media_query</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="media_query-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 420</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">media_query</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">ident1</span> = <span class="ruby-identifier">interp_ident</span>)
    <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">ident2</span> = <span class="ruby-identifier">interp_ident</span>
    <span class="ruby-identifier">ss</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ident2</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ident2</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ident2</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ident2</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'and'</span>
      <span class="ruby-identifier">query</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Media</span><span class="ruby-operator">::</span><span class="ruby-constant">Query</span>.<span class="ruby-identifier">new</span>([], <span class="ruby-identifier">ident1</span>, [])
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">ident2</span>
        <span class="ruby-identifier">query</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Media</span><span class="ruby-operator">::</span><span class="ruby-constant">Query</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ident1</span>, <span class="ruby-identifier">ident2</span>, [])
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">query</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Media</span><span class="ruby-operator">::</span><span class="ruby-constant">Query</span>.<span class="ruby-identifier">new</span>([], <span class="ruby-identifier">ident1</span>, [])
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">query</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/and/i</span>)
      <span class="ruby-identifier">ss</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">query</span>
    <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:media_expr</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">media_expr</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">expr</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">query</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Media</span><span class="ruby-operator">::</span><span class="ruby-constant">Query</span>.<span class="ruby-identifier">new</span>([], [], [])
  <span class="ruby-identifier">query</span>.<span class="ruby-identifier">expressions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">expr</span>

  <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/and/i</span>)
    <span class="ruby-identifier">ss</span>; <span class="ruby-identifier">query</span>.<span class="ruby-identifier">expressions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:media_expr</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">query</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-media_query_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">media_query_list</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a
href="http://www.w3.org/TR/css3-mediaqueries/#syntax">www.w3.org/TR/css3-mediaqueries/#syntax</a></p>
          
          

          
          <div class="method-source-code" id="media_query_list-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">media_query_list</span>
  <span class="ruby-identifier">query</span> = <span class="ruby-identifier">media_query</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">query</span>
  <span class="ruby-identifier">queries</span> = [<span class="ruby-identifier">query</span>]

  <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/,/</span>)
    <span class="ruby-identifier">ss</span>; <span class="ruby-identifier">queries</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:media_query</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ss</span>

  <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Media</span><span class="ruby-operator">::</span><span class="ruby-constant">QueryList</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">queries</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-merge" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">merge</span><span
            class="method-args">(arr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="merge-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1189</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">arr</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">merge_adjacent_strings</span>([<span class="ruby-identifier">arr</span>].<span class="ruby-identifier">flatten</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-mixin_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mixin_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="mixin_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mixin_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">tok!</span> <span class="ruby-constant">IDENT</span>
  <span class="ruby-identifier">args</span>, <span class="ruby-identifier">splat</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse_mixin_definition_arglist</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">MixinDefNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">splat</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:directive</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-moz_document_function" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">moz_document_function</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="moz_document_function-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 506</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">moz_document_function</span>
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">interp_uri</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">_interp_string</span>(<span class="ruby-value">:url_prefix</span>) <span class="ruby-operator">||</span>
    <span class="ruby-identifier">_interp_string</span>(<span class="ruby-value">:domain</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">function</span>(<span class="ruby-operator">!</span><span class="ruby-value">:allow_var</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">interpolation</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">val</span>
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">val</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-nested_properties-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nested_properties!</span><span
            class="method-args">(node, space)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="nested_properties-21-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1026</span>
      <span class="ruby-keyword">def</span> <span class="ruby-identifier">nested_properties!</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">space</span>)
        <span class="ruby-identifier">err</span>(<span class="ruby-string">&quot;Invalid CSS: a space is required between a property and its definition
when it has other properties nested beneath it.
&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">space</span>

        <span class="ruby-ivar">@use_property_exception</span> = <span class="ruby-keyword">true</span>
        <span class="ruby-ivar">@expected</span> = <span class="ruby-string">'expression (e.g. 1px, bold) or &quot;{&quot;'</span>
        <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>, <span class="ruby-value">:property</span>)
      <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-node" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">node</span><span
            class="method-args">(node, start_pos, end_pos = source_position)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="node-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1158</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">node</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">start_pos</span>, <span class="ruby-identifier">end_pos</span> = <span class="ruby-identifier">source_position</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">line</span> = <span class="ruby-identifier">start_pos</span>.<span class="ruby-identifier">line</span>
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">source_range</span> = <span class="ruby-identifier">range</span>(<span class="ruby-identifier">start_pos</span>, <span class="ruby-identifier">end_pos</span>)
  <span class="ruby-identifier">node</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-operator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">operator</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="operator-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 622</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">operator</span>
  <span class="ruby-comment"># Many of these operators (all except / and ,)</span>
  <span class="ruby-comment"># are disallowed by the CSS spec,</span>
  <span class="ruby-comment"># but they're included here for compatibility</span>
  <span class="ruby-comment"># with some proprietary MS properties</span>
  <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/[\/,:.=]/</span>)}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parent_selector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parent_selector</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="parent_selector-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 818</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parent_selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/&amp;/</span>)
  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Parent</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">interp_ident</span>(<span class="ruby-constant">NAME</span>) <span class="ruby-operator">||</span> [])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-placeholder_selector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">placeholder_selector</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="placeholder_selector-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 835</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">placeholder_selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/%/</span>)
  <span class="ruby-ivar">@expected</span> = <span class="ruby-string">&quot;placeholder name&quot;</span>
  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Placeholder</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_ident</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-prefixed_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prefixed_directive</span><span
            class="method-args">(name, start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="prefixed_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prefixed_directive</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">sym</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/^-[a-z0-9]+-/i</span>, <span class="ruby-string">''</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'-'</span>, <span class="ruby-string">'_'</span>).<span class="ruby-identifier">to_sym</span>
  <span class="ruby-constant">PREFIXED_DIRECTIVES</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">sym</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{sym}_directive&quot;</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-process_comment" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process_comment</span><span
            class="method-args">(text, node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="process_comment-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process_comment</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">silent</span> = <span class="ruby-identifier">text</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{\A//}</span>
  <span class="ruby-identifier">loud</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">silent</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">text</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{\A/[/*]!}</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-ivar">@line</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">count</span>(<span class="ruby-string">&quot;\n&quot;</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">silent</span>
    <span class="ruby-identifier">value</span> = [<span class="ruby-identifier">text</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r{\A\s*//}</span>, <span class="ruby-string">'/*'</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r{^\s*//}</span>, <span class="ruby-string">' *'</span>) <span class="ruby-operator">+</span> <span class="ruby-string">' */'</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">value</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Engine</span>.<span class="ruby-identifier">parse_interp</span>(
      <span class="ruby-identifier">text</span>, <span class="ruby-identifier">line</span>, <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">size</span>, <span class="ruby-value">:filename</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@filename</span>)
    <span class="ruby-identifier">string_before_comment</span> = <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">string</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">length</span>]
    <span class="ruby-identifier">newline_before_comment</span> = <span class="ruby-identifier">string_before_comment</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-string">&quot;\n&quot;</span>)
    <span class="ruby-identifier">last_line_before_comment</span> =
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">newline_before_comment</span>
        <span class="ruby-identifier">string_before_comment</span>[<span class="ruby-identifier">newline_before_comment</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">string_before_comment</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">value</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">last_line_before_comment</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/[^\s]/</span>, <span class="ruby-string">' '</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">type</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">silent</span>
           <span class="ruby-value">:silent</span>
         <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">loud</span>
           <span class="ruby-value">:loud</span>
         <span class="ruby-keyword">else</span>
           <span class="ruby-value">:normal</span>
         <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">comment</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">CommentNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">type</span>)
  <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">line</span> = <span class="ruby-identifier">line</span>
  <span class="ruby-identifier">node</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">comment</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pseudo" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pseudo</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pseudo-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 910</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pseudo</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/::?/</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">s</span>
  <span class="ruby-ivar">@expected</span> = <span class="ruby-string">&quot;pseudoclass or pseudoelement&quot;</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_ident</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\(/</span>)
    <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:pseudo_arg</span>)
    <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/,/</span>)
      <span class="ruby-identifier">arg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">','</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}
      <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:pseudo_arg</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\)/</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Pseudo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span> <span class="ruby-operator">==</span> <span class="ruby-string">':'</span> <span class="ruby-operator">?</span> <span class="ruby-value">:class</span> <span class="ruby-operator">:</span> <span class="ruby-value">:element</span>, <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">name</span>), <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">arg</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pseudo_arg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pseudo_arg</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pseudo_arg-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 927</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pseudo_arg</span>
  <span class="ruby-comment"># In the CSS spec, every pseudo-class/element either takes a pseudo</span>
  <span class="ruby-comment"># expression or a selector comma sequence as an argument. However, we</span>
  <span class="ruby-comment"># don't want to have to know which takes which, so we handle both at</span>
  <span class="ruby-comment"># once.</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># However, there are some ambiguities between the two. For instance, &quot;n&quot;</span>
  <span class="ruby-comment"># could start a pseudo expression like &quot;n+1&quot;, or it could start a</span>
  <span class="ruby-comment"># selector like &quot;n|m&quot;. In order to handle this, we must regrettably</span>
  <span class="ruby-comment"># backtrack.</span>
  <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">sel</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">pseudo_err</span> = <span class="ruby-identifier">catch_error</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">pseudo_expr</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/[,)]/</span>)
    <span class="ruby-identifier">expr</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">expected</span> <span class="ruby-string">'&quot;)&quot;'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">expr</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">expr</span>
  <span class="ruby-identifier">sel_err</span> = <span class="ruby-identifier">catch_error</span> {<span class="ruby-identifier">sel</span> = <span class="ruby-identifier">selector</span>}
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">sel</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sel</span>
  <span class="ruby-identifier">rethrow</span> <span class="ruby-identifier">pseudo_err</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pseudo_err</span>
  <span class="ruby-identifier">rethrow</span> <span class="ruby-identifier">sel_err</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sel_err</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pseudo_expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pseudo_expr</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pseudo_expr-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 957</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pseudo_expr</span>
  <span class="ruby-identifier">e</span> = <span class="ruby-identifier">pseudo_expr_token</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">res</span> = [<span class="ruby-identifier">e</span>, <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}]
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">e</span> = <span class="ruby-identifier">pseudo_expr_token</span>)
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pseudo_expr_token" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pseudo_expr_token</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pseudo_expr_token-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 953</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pseudo_expr_token</span>
  <span class="ruby-identifier">tok</span>(<span class="ruby-constant">PLUS</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/[-*]/</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">NUMBER</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">interp_string</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">IDENT</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">interpolation</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-qualified_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">qualified_name</span><span
            class="method-args">(allow_star_name = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="qualified_name-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 852</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">qualified_name</span>(<span class="ruby-identifier">allow_star_name</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">interp_ident</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\*/</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/\|/</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\|/</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interp_ident</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">allow_star_name</span>
  <span class="ruby-ivar">@expected</span> = <span class="ruby-string">&quot;identifier or *&quot;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">interp_ident</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\*/</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-query_expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">query_expr</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="query_expr-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 455</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query_expr</span>
  <span class="ruby-identifier">interp</span> = <span class="ruby-identifier">interpolation</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">interp</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">interp</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\(/</span>)
  <span class="ruby-identifier">res</span> = [<span class="ruby-string">'('</span>]
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/:/</span>)
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">': '</span>
    <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\)/</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Parser.html#method-i-media_expr">media_expr</a>, <a href="Parser.html#method-i-at_root_query">at_root_query</a>
        </div>
        

        
      </div>

    
      <div id="method-i-range" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">range</span><span
            class="method-args">(start_pos, end_pos = source_position)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="range-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">range</span>(<span class="ruby-identifier">start_pos</span>, <span class="ruby-identifier">end_pos</span> = <span class="ruby-identifier">source_position</span>)
  <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">start_pos</span>, <span class="ruby-identifier">end_pos</span>, <span class="ruby-ivar">@filename</span>, <span class="ruby-ivar">@importer</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-reference_combinator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reference_combinator</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="reference_combinator-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 770</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reference_combinator</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\//</span>)
  <span class="ruby-identifier">res</span> = [<span class="ruby-string">'/'</span>]
  <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:qualified_name</span>)
  <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ns</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'|'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ns</span>
  <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\//</span>)
  <span class="ruby-identifier">res</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">flatten</span>
  <span class="ruby-identifier">res</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">join</span> <span class="ruby-string">''</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)}
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rethrow" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rethrow</span><span
            class="method-args">(err)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="rethrow-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1280</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rethrow</span>(<span class="ruby-identifier">err</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@throw_error</span>
    <span class="ruby-identifier">throw</span> <span class="ruby-value">:_sass_parser_error</span>, <span class="ruby-identifier">err</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@scanner</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">MultibyteStringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">string</span>)
    <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">err</span>[<span class="ruby-value">:pos</span>]
    <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">err</span>[<span class="ruby-value">:line</span>]
    <span class="ruby-ivar">@expected</span> = <span class="ruby-identifier">err</span>[<span class="ruby-value">:expected</span>]
    <span class="ruby-identifier">err</span>[<span class="ruby-value">:block</span>].<span class="ruby-identifier">call</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-return_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">return_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="return_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">return_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">ReturnNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)), <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ruleset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ruleset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ruleset-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 630</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ruleset</span>
  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-identifier">rules</span>, <span class="ruby-identifier">source_range</span> = <span class="ruby-identifier">selector_sequence</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">rules</span>
  <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(
    <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">RuleNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rules</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>, <span class="ruby-identifier">source_range</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:ruleset</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s</span><span
            class="method-args">(node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="s-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">S</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">CDC</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">CDO</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">c</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">SINGLE_LINE_COMMENT</span>)) <span class="ruby-operator">||</span> (<span class="ruby-identifier">c</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">COMMENT</span>))
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>
    <span class="ruby-identifier">process_comment</span> <span class="ruby-identifier">c</span>, <span class="ruby-identifier">node</span>
    <span class="ruby-identifier">c</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sass_script" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sass_script</span><span
            class="method-args">(*args)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="sass_script-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1172</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sass_script</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">parser</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">sass_script_parser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@scanner</span>, <span class="ruby-ivar">@line</span>, <span class="ruby-ivar">@offset</span>,
                                             <span class="ruby-value">:filename</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@filename</span>, <span class="ruby-value">:importer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@importer</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">send</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-comment"># Convert to CSS manually so that comments are ignored.</span>
    <span class="ruby-identifier">src</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">to_sass</span>
    <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">src</span>}
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">line</span>
  <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">offset</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">throw</span>(<span class="ruby-value">:_sass_parser_error</span>, <span class="ruby-keyword">true</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@throw_error</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-selector" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">selector</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="selector-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 726</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">selector</span>
  <span class="ruby-identifier">sel</span> = <span class="ruby-identifier">_selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">sel</span>
  <span class="ruby-identifier">sel</span>.<span class="ruby-identifier">to_a</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-selector_comma_sequence" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">selector_comma_sequence</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="selector_comma_sequence-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 732</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">selector_comma_sequence</span>
  <span class="ruby-identifier">sel</span> = <span class="ruby-identifier">_selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">sel</span>
  <span class="ruby-identifier">selectors</span> = [<span class="ruby-identifier">sel</span>]
  <span class="ruby-identifier">ws</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/,/</span>)
    <span class="ruby-identifier">ws</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">sel</span> = <span class="ruby-identifier">_selector</span>)
      <span class="ruby-identifier">selectors</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sel</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">ws</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
        <span class="ruby-identifier">selectors</span>[<span class="ruby-value">-1</span>] = <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Sequence</span>.<span class="ruby-identifier">new</span>([<span class="ruby-string">&quot;\n&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">selectors</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">members</span>)
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">ws</span> = <span class="ruby-string">''</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">CommaSequence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">selectors</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-selector_sequence" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">selector_sequence</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="selector_sequence-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 703</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">selector_sequence</span>
  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">sel</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">STATIC_SELECTOR</span>, <span class="ruby-keyword">true</span>))
    <span class="ruby-keyword">return</span> [<span class="ruby-identifier">sel</span>], <span class="ruby-identifier">range</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">rules</span> = []
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">v</span>

  <span class="ruby-identifier">ws</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/,/</span>)
    <span class="ruby-identifier">ws</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">v</span> = <span class="ruby-identifier">selector</span>)
      <span class="ruby-identifier">rules</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">','</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ws</span>
      <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">v</span>
      <span class="ruby-identifier">ws</span> = <span class="ruby-string">''</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">rules</span>, <span class="ruby-identifier">range</span>(<span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-simple_selector_sequence" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">simple_selector_sequence</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="simple_selector_sequence-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 781</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">simple_selector_sequence</span>
  <span class="ruby-comment"># Returning expr by default allows for stuff like</span>
  <span class="ruby-comment"># http://www.w3.org/TR/css3-animations/#keyframes-</span>

  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-identifier">e</span> = <span class="ruby-identifier">element_name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">id_selector</span> <span class="ruby-operator">||</span>
    <span class="ruby-identifier">class_selector</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">placeholder_selector</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">attrib</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">pseudo</span> <span class="ruby-operator">||</span>
    <span class="ruby-identifier">parent_selector</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">interpolation_selector</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">expr</span>(<span class="ruby-operator">!</span><span class="ruby-value">:allow_var</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">res</span> = [<span class="ruby-identifier">e</span>]

  <span class="ruby-comment"># The tok(/\*/) allows the &quot;E*&quot; hack</span>
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">v</span> = <span class="ruby-identifier">id_selector</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">class_selector</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">placeholder_selector</span> <span class="ruby-operator">||</span>
             <span class="ruby-identifier">attrib</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">pseudo</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">interpolation_selector</span> <span class="ruby-operator">||</span>
             (<span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\*/</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Universal</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>)))
    <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">pos</span> = <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-ivar">@line</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">sel</span> = <span class="ruby-identifier">str?</span> {<span class="ruby-identifier">simple_selector_sequence</span>})
    <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">pos</span>
    <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-comment"># If we see &quot;*E&quot;, don't force a throw because this could be the</span>
      <span class="ruby-comment"># &quot;*prop: val&quot; hack.</span>
      <span class="ruby-identifier">expected</span>(<span class="ruby-string">'&quot;{&quot;'</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">res</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">Universal</span>)
      <span class="ruby-identifier">throw_error</span> {<span class="ruby-identifier">expected</span>(<span class="ruby-string">'&quot;{&quot;'</span>)}
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;\n\n\&quot;#{sel}\&quot; may only be used at the beginning of a compound selector.&quot;</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Selector</span><span class="ruby-operator">::</span><span class="ruby-constant">SimpleSequence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">res</span>, <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/!/</span>), <span class="ruby-identifier">range</span>(<span class="ruby-identifier">start_pos</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-source_position" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">source_position</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="source_position-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">source_position</span>
  <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Position</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@line</span>, <span class="ruby-ivar">@offset</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-special_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">special_directive</span><span
            class="method-args">(name, start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="special_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">special_directive</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">sym</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'-'</span>, <span class="ruby-string">'_'</span>).<span class="ruby-identifier">to_sym</span>
  <span class="ruby-constant">DIRECTIVES</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">sym</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{sym}_directive&quot;</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ss" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ss</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ss-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">nil</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">S</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">SINGLE_LINE_COMMENT</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">COMMENT</span>)
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ss_comments" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ss_comments</span><span
            class="method-args">(node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ss_comments-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ss_comments</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">S</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">c</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">SINGLE_LINE_COMMENT</span>)) <span class="ruby-operator">||</span> (<span class="ruby-identifier">c</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">COMMENT</span>))
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>
    <span class="ruby-identifier">process_comment</span> <span class="ruby-identifier">c</span>, <span class="ruby-identifier">node</span>
    <span class="ruby-identifier">c</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-str" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">str</span><span
            class="method-args">() { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="str-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">str</span>
  <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">push</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">yield</span>
  <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">last</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">pop</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-str-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">str?</span><span
            class="method-args">() { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="str-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1143</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">str?</span>
  <span class="ruby-identifier">pos</span> = <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-ivar">@line</span>
  <span class="ruby-identifier">offset</span> = <span class="ruby-ivar">@offset</span>
  <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">push</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">throw_error</span> {<span class="ruby-keyword">yield</span>} <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">last</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>
  <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">pos</span>
  <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
  <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">offset</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">pop</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-stylesheet" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">stylesheet</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="stylesheet-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stylesheet</span>
  <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">RootNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">string</span>), <span class="ruby-identifier">source_position</span>)
  <span class="ruby-identifier">block_contents</span>(<span class="ruby-identifier">node</span>, <span class="ruby-value">:stylesheet</span>) {<span class="ruby-identifier">s</span>(<span class="ruby-identifier">node</span>)}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-supports_condition" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_condition</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="supports_condition-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 550</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_condition</span>
  <span class="ruby-identifier">supports_negation</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">supports_operator</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">supports_interpolation</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-supports_condition_in_parens" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_condition_in_parens</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="supports_condition_in_parens-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 571</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_condition_in_parens</span>
  <span class="ruby-identifier">interp</span> = <span class="ruby-identifier">supports_interpolation</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">interp</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">interp</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\(/</span>); <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">cond</span> = <span class="ruby-identifier">supports_condition</span>)
    <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\)/</span>); <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">cond</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
    <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/:/</span>); <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">value</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
    <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\)/</span>); <span class="ruby-identifier">ss</span>
    <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Supports</span><span class="ruby-operator">::</span><span class="ruby-constant">Declaration</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-supports_declaration_condition" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_declaration_condition</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="supports_declaration_condition-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 587</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_declaration_condition</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\(/</span>); <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">supports_declaration_body</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-supports_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_directive</span><span
            class="method-args">(name, start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a
href="http://www.w3.org/TR/css3-conditional">www.w3.org/TR/css3-conditional</a>/</p>
          
          

          
          <div class="method-source-code" id="supports_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 538</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_directive</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">condition</span> = <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:supports_condition</span>)
  <span class="ruby-identifier">node</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">SupportsNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">condition</span>)

  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\{/</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">has_children</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">block_contents</span>(<span class="ruby-identifier">node</span>, <span class="ruby-value">:directive</span>)
  <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/\}/</span>)

  <span class="ruby-identifier">node</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-supports_interpolation" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_interpolation</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="supports_interpolation-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 592</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_interpolation</span>
  <span class="ruby-identifier">interp</span> = <span class="ruby-identifier">interpolation</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">interp</span>
  <span class="ruby-identifier">ss</span>
  <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Supports</span><span class="ruby-operator">::</span><span class="ruby-constant">Interpolation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">interp</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-supports_negation" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_negation</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="supports_negation-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 554</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_negation</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/not/i</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Supports</span><span class="ruby-operator">::</span><span class="ruby-constant">Negation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr!</span>(<span class="ruby-value">:supports_condition_in_parens</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-supports_operator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">supports_operator</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="supports_operator-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 560</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">supports_operator</span>
  <span class="ruby-identifier">cond</span> = <span class="ruby-identifier">supports_condition_in_parens</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cond</span>
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">op</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/and|or/i</span>))
    <span class="ruby-identifier">ss</span>
    <span class="ruby-identifier">cond</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Supports</span><span class="ruby-operator">::</span><span class="ruby-constant">Operator</span>.<span class="ruby-identifier">new</span>(
      <span class="ruby-identifier">cond</span>, <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:supports_condition_in_parens</span>), <span class="ruby-identifier">op</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">cond</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-term" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">term</span><span
            class="method-args">(allow_var)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="term-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1049</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">term</span>(<span class="ruby-identifier">allow_var</span>)
  <span class="ruby-identifier">e</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">NUMBER</span>) <span class="ruby-operator">||</span>
      <span class="ruby-identifier">interp_uri</span> <span class="ruby-operator">||</span>
      <span class="ruby-identifier">function</span>(<span class="ruby-identifier">allow_var</span>) <span class="ruby-operator">||</span>
      <span class="ruby-identifier">interp_string</span> <span class="ruby-operator">||</span>
      <span class="ruby-identifier">tok</span>(<span class="ruby-constant">UNICODERANGE</span>) <span class="ruby-operator">||</span>
      <span class="ruby-identifier">interp_ident</span> <span class="ruby-operator">||</span>
      <span class="ruby-identifier">tok</span>(<span class="ruby-constant">HEXCOLOR</span>) <span class="ruby-operator">||</span>
      (<span class="ruby-identifier">allow_var</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">var_expr</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>

  <span class="ruby-identifier">op</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/[+-]/</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">op</span>
  <span class="ruby-ivar">@expected</span> = <span class="ruby-string">&quot;number or function&quot;</span>
  [<span class="ruby-identifier">op</span>,
   <span class="ruby-identifier">tok</span>(<span class="ruby-constant">NUMBER</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">function</span>(<span class="ruby-identifier">allow_var</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">allow_var</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">var_expr</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">expr!</span>(<span class="ruby-value">:interpolation</span>)]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-throw_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">throw_error</span><span
            class="method-args">() { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="throw_error-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">throw_error</span>
  <span class="ruby-identifier">old_throw_error</span>, <span class="ruby-ivar">@throw_error</span> = <span class="ruby-ivar">@throw_error</span>, <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">yield</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-ivar">@throw_error</span> = <span class="ruby-identifier">old_throw_error</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-tok" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tok</span><span
            class="method-args">(rx, last_group_lookahead = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="tok-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1321</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tok</span>(<span class="ruby-identifier">rx</span>, <span class="ruby-identifier">last_group_lookahead</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">res</span> = <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-identifier">rx</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>
    <span class="ruby-comment"># This fixes https://github.com/nex3/sass/issues/104, which affects</span>
    <span class="ruby-comment"># Ruby 1.8.7 and REE. This fix is to replace the ?= zero-width</span>
    <span class="ruby-comment"># positive lookahead operator in the Regexp (which matches without</span>
    <span class="ruby-comment"># consuming the matched group), with a match that does consume the</span>
    <span class="ruby-comment"># group, but then rewinds the scanner and removes the group from the</span>
    <span class="ruby-comment"># end of the matched string. This fix makes the assumption that the</span>
    <span class="ruby-comment"># matched group will always occur at the end of the match.</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">last_group_lookahead</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@scanner</span>[<span class="ruby-value">-1</span>]
      <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">pos</span> <span class="ruby-operator">-=</span> <span class="ruby-ivar">@scanner</span>[<span class="ruby-value">-1</span>].<span class="ruby-identifier">length</span>
      <span class="ruby-identifier">res</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-operator">-</span><span class="ruby-ivar">@scanner</span>[<span class="ruby-value">-1</span>].<span class="ruby-identifier">length</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">newline_count</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">count</span>(<span class="ruby-constant">NEWLINE</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">newline_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
      <span class="ruby-ivar">@line</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">newline_count</span>
      <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">res</span>[<span class="ruby-identifier">res</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-constant">NEWLINE</span>)<span class="ruby-operator">..</span><span class="ruby-value">-1</span>].<span class="ruby-identifier">size</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@offset</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@expected</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rx</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">COMMENT</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rx</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">SINGLE_LINE_COMMENT</span>
      <span class="ruby-ivar">@strs</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">res</span>}
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">res</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-tok-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tok!</span><span
            class="method-args">(rx)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="tok-21-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tok!</span>(<span class="ruby-identifier">rx</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-identifier">rx</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">t</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">t</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-constant">TOK_NAMES</span>[<span class="ruby-identifier">rx</span>]

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>
    <span class="ruby-comment"># Display basic regexps as plain old strings</span>
    <span class="ruby-identifier">source</span> = <span class="ruby-identifier">rx</span>.<span class="ruby-identifier">source</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\\//</span>, <span class="ruby-string">'/'</span>)
    <span class="ruby-identifier">string</span> = <span class="ruby-identifier">rx</span>.<span class="ruby-identifier">source</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\(.)/</span>, <span class="ruby-string">'\1'</span>)
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">source</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">string</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">rx</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">expected</span>(<span class="ruby-identifier">name</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-tok-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tok?</span><span
            class="method-args">(rx)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="tok-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tok?</span>(<span class="ruby-identifier">rx</span>)
  <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-identifier">rx</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-use_css_import-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">use_css_import?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="use_css_import-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 399</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">use_css_import?</span>; <span class="ruby-keyword">false</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-value-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">value!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="value-21-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 999</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">value!</span>
  <span class="ruby-identifier">space</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">str</span> {<span class="ruby-identifier">ss</span>}.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">value_start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-ivar">@use_property_exception</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">space</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">tok?</span>(<span class="ruby-constant">IDENT</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">tok?</span>(<span class="ruby-regexp">/\{/</span>)
    <span class="ruby-identifier">str</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">Literal</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Value</span><span class="ruby-operator">::</span><span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;&quot;</span>))
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">line</span> = <span class="ruby-identifier">source_position</span>.<span class="ruby-identifier">line</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">source_range</span> = <span class="ruby-identifier">range</span>(<span class="ruby-identifier">source_position</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">value_start_pos</span>, <span class="ruby-keyword">true</span>, <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-comment"># This is a bit of a dirty trick:</span>
  <span class="ruby-comment"># if the value is completely static,</span>
  <span class="ruby-comment"># we don't parse it at all, and instead return a plain old string</span>
  <span class="ruby-comment"># containing the value.</span>
  <span class="ruby-comment"># This results in a dramatic speed increase.</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">val</span> = <span class="ruby-identifier">tok</span>(<span class="ruby-constant">STATIC_VALUE</span>, <span class="ruby-keyword">true</span>))
    <span class="ruby-identifier">str</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">Literal</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Value</span><span class="ruby-operator">::</span><span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">val</span>.<span class="ruby-identifier">strip</span>))
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">line</span> = <span class="ruby-identifier">start_pos</span>.<span class="ruby-identifier">line</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">source_range</span> = <span class="ruby-identifier">range</span>(<span class="ruby-identifier">start_pos</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">value_start_pos</span>, <span class="ruby-identifier">space</span>, <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">value_start_pos</span>, <span class="ruby-identifier">space</span>, <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-var_expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">var_expr</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="var_expr-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 1078</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">var_expr</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\$/</span>)
  <span class="ruby-identifier">line</span> = <span class="ruby-ivar">@line</span>
  <span class="ruby-identifier">var</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">Variable</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">tok!</span>(<span class="ruby-constant">IDENT</span>))
  <span class="ruby-identifier">var</span>.<span class="ruby-identifier">line</span> = <span class="ruby-identifier">line</span>
  <span class="ruby-identifier">var</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-variable" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">variable</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="variable-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 599</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">variable</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/\$/</span>)
  <span class="ruby-identifier">start_pos</span> = <span class="ruby-identifier">source_position</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">tok!</span>(<span class="ruby-constant">IDENT</span>)
  <span class="ruby-identifier">ss</span>; <span class="ruby-identifier">tok!</span>(<span class="ruby-regexp">/:/</span>); <span class="ruby-identifier">ss</span>

  <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">tok</span>(<span class="ruby-regexp">/!/</span>)
    <span class="ruby-identifier">flag_name</span> = <span class="ruby-identifier">tok!</span>(<span class="ruby-constant">IDENT</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">flag_name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'default'</span>
      <span class="ruby-identifier">guarded</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">flag_name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'global'</span>
      <span class="ruby-identifier">global</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Invalid flag \&quot;!#{flag_name}\&quot;.&quot;</span>, <span class="ruby-value">:line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@line</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">ss</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">VariableNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">guarded</span>, <span class="ruby-identifier">global</span>)
  <span class="ruby-identifier">node</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-warn_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">warn_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="warn_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">warn_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">WarnNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)), <span class="ruby-identifier">start_pos</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-while_directive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">while_directive</span><span
            class="method-args">(start_pos)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="while_directive-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">while_directive</span>(<span class="ruby-identifier">start_pos</span>)
  <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">sass_script</span>(<span class="ruby-value">:parse</span>)
  <span class="ruby-identifier">ss</span>
  <span class="ruby-identifier">block</span>(<span class="ruby-identifier">node</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Tree</span><span class="ruby-operator">::</span><span class="ruby-constant">WhileNode</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr</span>), <span class="ruby-identifier">start_pos</span>), <span class="ruby-value">:directive</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-whitespace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">whitespace</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="whitespace-source">
            <pre><span class="ruby-comment"># File lib/sass/scss/parser.rb, line 143</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">whitespace</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">S</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">SINGLE_LINE_COMMENT</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">tok</span>(<span class="ruby-constant">COMMENT</span>)
  <span class="ruby-identifier">ss</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

