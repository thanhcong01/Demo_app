<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Sass::Util - sass-3.3.9 Documentation</title>

<link href="../fonts.css" rel="stylesheet">
<link href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/search_index.js"></script>
<script src="../js/search.js"></script>
<script src="../js/searcher.js"></script>
<script src="../js/darkfish.js"></script>


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-_enc">#_enc</a>
    
    <li ><a href="#method-i-absolute_path">#absolute_path</a>
    
    <li ><a href="#method-i-abstract">#abstract</a>
    
    <li ><a href="#method-i-ap_geq-3F">#ap_geq?</a>
    
    <li ><a href="#method-i-ap_geq_3-3F">#ap_geq_3?</a>
    
    <li ><a href="#method-i-array_minus">#array_minus</a>
    
    <li ><a href="#method-i-atomic_create_and_write_file">#atomic_create_and_write_file</a>
    
    <li ><a href="#method-i-av_template_class">#av_template_class</a>
    
    <li ><a href="#method-i-caller_info">#caller_info</a>
    
    <li ><a href="#method-i-check_encoding">#check_encoding</a>
    
    <li ><a href="#method-i-check_range">#check_range</a>
    
    <li ><a href="#method-i-check_sass_encoding">#check_sass_encoding</a>
    
    <li ><a href="#method-i-cleanpath">#cleanpath</a>
    
    <li ><a href="#method-i-deprecated">#deprecated</a>
    
    <li ><a href="#method-i-destructure">#destructure</a>
    
    <li ><a href="#method-i-encode_vlq">#encode_vlq</a>
    
    <li ><a href="#method-i-enum_cons">#enum_cons</a>
    
    <li ><a href="#method-i-enum_slice">#enum_slice</a>
    
    <li ><a href="#method-i-enum_with_index">#enum_with_index</a>
    
    <li ><a href="#method-i-escape_uri">#escape_uri</a>
    
    <li ><a href="#method-i-extract-21">#extract!</a>
    
    <li ><a href="#method-i-extract_values">#extract_values</a>
    
    <li ><a href="#method-i-flatten">#flatten</a>
    
    <li ><a href="#method-i-flatten_vertically">#flatten_vertically</a>
    
    <li ><a href="#method-i-glob">#glob</a>
    
    <li ><a href="#method-i-group_by_to_a">#group_by_to_a</a>
    
    <li ><a href="#method-i-has-3F">#has?</a>
    
    <li ><a href="#method-i-hash_to_a">#hash_to_a</a>
    
    <li ><a href="#method-i-inject_values">#inject_values</a>
    
    <li ><a href="#method-i-inspect_obj">#inspect_obj</a>
    
    <li ><a href="#method-i-intersperse">#intersperse</a>
    
    <li ><a href="#method-i-ironruby-3F">#ironruby?</a>
    
    <li ><a href="#method-i-jruby1_6-3F">#jruby1_6?</a>
    
    <li ><a href="#method-i-jruby-3F">#jruby?</a>
    
    <li ><a href="#method-i-jruby_version">#jruby_version</a>
    
    <li ><a href="#method-i-json_escape_string">#json_escape_string</a>
    
    <li ><a href="#method-i-json_value_of">#json_value_of</a>
    
    <li ><a href="#method-i-lcs">#lcs</a>
    
    <li ><a href="#method-i-lcs_backtrace">#lcs_backtrace</a>
    
    <li ><a href="#method-i-lcs_table">#lcs_table</a>
    
    <li ><a href="#method-i-listen_geq_2-3F">#listen_geq_2?</a>
    
    <li ><a href="#method-i-load_listen-21">#load_listen!</a>
    
    <li ><a href="#method-i-macruby-3F">#macruby?</a>
    
    <li ><a href="#method-i-map_hash">#map_hash</a>
    
    <li ><a href="#method-i-map_keys">#map_keys</a>
    
    <li ><a href="#method-i-map_vals">#map_vals</a>
    
    <li ><a href="#method-i-merge_adjacent_strings">#merge_adjacent_strings</a>
    
    <li ><a href="#method-i-ord">#ord</a>
    
    <li ><a href="#method-i-ordered_hash">#ordered_hash</a>
    
    <li ><a href="#method-i-pathname">#pathname</a>
    
    <li ><a href="#method-i-paths">#paths</a>
    
    <li ><a href="#method-i-powerset">#powerset</a>
    
    <li ><a href="#method-i-rails_env">#rails_env</a>
    
    <li ><a href="#method-i-rails_root">#rails_root</a>
    
    <li ><a href="#method-i-rbx-3F">#rbx?</a>
    
    <li ><a href="#method-i-replace_subseq">#replace_subseq</a>
    
    <li ><a href="#method-i-restrict">#restrict</a>
    
    <li ><a href="#method-i-ruby1-3F">#ruby1?</a>
    
    <li ><a href="#method-i-ruby1_8-3F">#ruby1_8?</a>
    
    <li ><a href="#method-i-ruby1_8_6-3F">#ruby1_8_6?</a>
    
    <li ><a href="#method-i-sass_warn">#sass_warn</a>
    
    <li ><a href="#method-i-scope">#scope</a>
    
    <li ><a href="#method-i-set_eql-3F">#set_eql?</a>
    
    <li ><a href="#method-i-set_hash">#set_hash</a>
    
    <li ><a href="#method-i-silence_sass_warnings">#silence_sass_warnings</a>
    
    <li ><a href="#method-i-silence_warnings">#silence_warnings</a>
    
    <li ><a href="#method-i-slice_by">#slice_by</a>
    
    <li ><a href="#method-i-sourcemap_name">#sourcemap_name</a>
    
    <li ><a href="#method-i-strip_string_array">#strip_string_array</a>
    
    <li ><a href="#method-i-subsequence-3F">#subsequence?</a>
    
    <li ><a href="#method-i-substitute">#substitute</a>
    
    <li ><a href="#method-i-to_hash">#to_hash</a>
    
    <li ><a href="#method-i-undefined_conversion_error_char">#undefined_conversion_error_char</a>
    
    <li ><a href="#method-i-version_geq">#version_geq</a>
    
    <li ><a href="#method-i-version_gt">#version_gt</a>
    
    <li ><a href="#method-i-windows-3F">#windows?</a>
    
    <li ><a href="#method-i-with_extracted_values">#with_extracted_values</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Sass::Util">
  <h1 id="module-Sass::Util" class="module">
    module Sass::Util
  </h1>

  <section class="description">
    
<p>A module containing various useful functions.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="ATOMIC_WRITE_MUTEX">ATOMIC_WRITE_MUTEX
        
        <dd><p>@private</p>
        
      
        <dt id="BASE64_DIGITS">BASE64_DIGITS
        
        <dd>
        
      
        <dt id="BASE64_DIGIT_MAP">BASE64_DIGIT_MAP
        
        <dd>
        
      
        <dt id="CHARSET_REGEXPS">CHARSET_REGEXPS
        
        <dd>
        
      
        <dt id="ENCODINGS_TO_CHECK">ENCODINGS_TO_CHECK
        
        <dd><p>We could automatically add in any non-ASCII-compatible encodings here, but
there’s not really a good way to do that without manually checking that
each encoding encodes all ASCII characters properly, which takes long
enough to affect the startup time of the CLI.</p>
        
      
        <dt id="MultibyteStringScanner">MultibyteStringScanner
        
        <dd><p>rubocop:disable ConstantName</p>
        
      
        <dt id="RUBY_ENGINE">RUBY_ENGINE
        
        <dd><p>The Ruby engine we’re running under. Defaults to `“ruby”` if the top-level
constant is undefined. @api public</p>
        
      
        <dt id="RUBY_VERSION">RUBY_VERSION
        
        <dd><p>An array of ints representing the Ruby version number. @api public</p>
        
      
        <dt id="URI_ESCAPE">URI_ESCAPE
        
        <dd><p>This is a hack around the fact that you can’t instantiate a URI parser on
1.8, so we have to have this hacky stuff to work around it. When 1.8
support is dropped, we can remove this method.</p>

<p>@private</p>
        
      
        <dt id="VLQ_BASE">VLQ_BASE
        
        <dd>
        
      
        <dt id="VLQ_BASE_MASK">VLQ_BASE_MASK
        
        <dd>
        
      
        <dt id="VLQ_BASE_SHIFT">VLQ_BASE_SHIFT
        
        <dd>
        
      
        <dt id="VLQ_CONTINUATION_BIT">VLQ_CONTINUATION_BIT
        
        <dd>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-_enc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_enc</span><span
            class="method-args">(string, encoding)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@private</p>
          
          

          
          <div class="method-source-code" id="_enc-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 825</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_enc</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">encoding</span>)
  <span class="ruby-identifier">string</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">encoding</span>).<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;BINARY&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-absolute_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">absolute_path</span><span
            class="method-args">(path, dir_string = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A cross-platform implementation of `File.absolute_path`.</p>

<p>@param path [String] @param dir_string [String] The directory to consider
[path] relative to. @return [String] The absolute version of `path`.</p>
          
          

          
          <div class="method-source-code" id="absolute_path-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1152</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">absolute_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">dir_string</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-comment"># Ruby 1.8 doesn't support File.absolute_path.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">absolute_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">dir_string</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8?</span>

  <span class="ruby-comment"># File.expand_path expands &quot;~&quot;, which we don't want.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">dir_string</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?~</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;.&quot;</span>, <span class="ruby-identifier">path</span>), <span class="ruby-identifier">dir_string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-abstract" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">abstract</span><span
            class="method-args">(obj)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Throws a NotImplementedError for an abstract method.</p>

<p>@param obj [Object] `self` @raise [NotImplementedError]</p>
          
          

          
          <div class="method-source-code" id="abstract-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 449</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">abstract</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{obj.class} must implement ##{caller_info[2]}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ap_geq-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ap_geq?</span><span
            class="method-args">(version)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns whether this environment is using ActionPack of a version greater
than or equal to that specified.</p>

<p>@param version [String] The string version number to check against.</p>

<pre>Should be greater than or equal to Rails 3,
because otherwise ActionPack::VERSION isn't autoloaded</pre>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="ap_geq-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 534</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ap_geq?</span>(<span class="ruby-identifier">version</span>)
  <span class="ruby-comment"># The ActionPack module is always loaded automatically in Rails &gt;= 3</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ActionPack</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ActionPack</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>) <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ActionPack</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span><span class="ruby-operator">::</span><span class="ruby-constant">STRING</span>)

  <span class="ruby-identifier">version_geq</span>(<span class="ruby-constant">ActionPack</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span><span class="ruby-operator">::</span><span class="ruby-constant">STRING</span>, <span class="ruby-identifier">version</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ap_geq_3-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ap_geq_3?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns whether this environment is using ActionPack version 3.0.0 or
greater.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="ap_geq_3-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 523</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ap_geq_3?</span>
  <span class="ruby-identifier">ap_geq?</span>(<span class="ruby-string">&quot;3.0.0.beta1&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-array_minus" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">array_minus</span><span
            class="method-args">(minuend, subtrahend)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a sub-array of `minuend` containing only elements that are also in
`subtrahend`. Ensures that the return value has the same order as
`minuend`, even on Rubinius where that’s not guaranteed by `Array#-`.</p>

<p>@param minuend [Array] @param subtrahend [Array] @return [Array]</p>
          
          

          
          <div class="method-source-code" id="array_minus-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 334</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">array_minus</span>(<span class="ruby-identifier">minuend</span>, <span class="ruby-identifier">subtrahend</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">minuend</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">subtrahend</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">rbx?</span>
  <span class="ruby-identifier">set</span> = <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">minuend</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">subtrahend</span>
  <span class="ruby-identifier">minuend</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">e</span>)}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-atomic_create_and_write_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">atomic_create_and_write_file</span><span
            class="method-args">(filename, perms = 0666) { |tmpfile| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This creates a temp file and yields it for writing. When the write is
complete, the file is moved into the desired location. The atomicity of
this operation is provided by the filesystem’s rename operation.</p>

<p>@param filename [String] The file to write to. @param perms [Integer] The
permissions used for creating this file.</p>

<pre>Will be masked by the process umask. Defaults to readable/writeable
by all users however the umask usually changes this to only be writable
by the process's user.</pre>

<p>@yieldparam tmpfile [Tempfile] The temp file that can be written to.
@return The value returned by the block.</p>
          
          

          
          <div class="method-source-code" id="atomic_create_and_write_file-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1195</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">atomic_create_and_write_file</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">perms</span> = <span class="ruby-value">0666</span>)
  <span class="ruby-identifier">require</span> <span class="ruby-string">'tempfile'</span>
  <span class="ruby-identifier">tmpfile</span> = <span class="ruby-constant">Tempfile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">filename</span>), <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">filename</span>))
  <span class="ruby-identifier">tmpfile</span>.<span class="ruby-identifier">binmode</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">tmpfile</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:binmode</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">yield</span> <span class="ruby-identifier">tmpfile</span>
  <span class="ruby-identifier">tmpfile</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-constant">ATOMIC_WRITE_MUTEX</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">perms</span> <span class="ruby-operator">&amp;</span> <span class="ruby-operator">~</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">umask</span>, <span class="ruby-identifier">tmpfile</span>.<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPERM</span>
      <span class="ruby-comment"># If we don't have permissions to chmod the file, don't let that crash</span>
      <span class="ruby-comment"># the compilation. See issue 1215.</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">rename</span> <span class="ruby-identifier">tmpfile</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">filename</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-comment"># close and remove the tempfile if it still exists,</span>
  <span class="ruby-comment"># presumably due to an error during write</span>
  <span class="ruby-identifier">tmpfile</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">tmpfile</span>
  <span class="ruby-identifier">tmpfile</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">tmpfile</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-av_template_class" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">av_template_class</span><span
            class="method-args">(name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an ActionView::Template* class. In pre-3.0 versions of Rails, most
of these classes were of the form `ActionView::TemplateFoo`, while
afterwards they were of the form `ActionView;:Template::Foo`.</p>

<p>@param name [#to_s] The name of the class to get.</p>

<pre>For example, `:Error` will return `ActionView::TemplateError`
or `ActionView::Template::Error`.</pre>
          
          

          
          <div class="method-source-code" id="av_template_class-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 565</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">av_template_class</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">ActionView</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-node">&quot;Template#{name}&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">ActionView</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-node">&quot;Template#{name}&quot;</span>)
  <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Template</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-caller_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">caller_info</span><span
            class="method-args">(entry = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns information about the caller of the previous method.</p>

<p>@param entry [String] An entry in the `#caller` list, or a similarly
formatted string @return [[String, Fixnum, (String, nil)]]</p>

<pre>An array containing the filename, line, and method name of the caller.
The method name may be nil</pre>
          
          

          
          <div class="method-source-code" id="caller_info-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 397</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">caller_info</span>(<span class="ruby-identifier">entry</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-comment"># JRuby evaluates `caller` incorrectly when it's in an actual default argument.</span>
  <span class="ruby-identifier">entry</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">caller</span>[<span class="ruby-value">1</span>]
  <span class="ruby-identifier">info</span> = <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/^(.*?):(-?.*?)(?::.*`(.+)')?$/</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">info</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">info</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>
  <span class="ruby-comment"># This is added by Rubinius to designate a block, but we don't care about it.</span>
  <span class="ruby-identifier">info</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/ \{\}\Z/</span>, <span class="ruby-string">''</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value">2</span>]
  <span class="ruby-identifier">info</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_encoding</span><span
            class="method-args">(str) { |<<rstrip, i + 1| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks that the encoding of a string is valid in Ruby 1.9 and cleans up
potential encoding gotchas like the UTF-8 BOM. If it’s not, yields an error
string describing the invalid character and the line on which it occurrs.</p>

<p>@param str [String] The string of which to check the encoding @yield [msg]
A block in which an encoding error can be raised.</p>

<pre>Only yields if there is an encoding error</pre>

<p>@yieldparam msg [String] The error message to be raised @return [String]
`str`, potentially with encoding gotchas like BOMs removed</p>
          
          

          
          <div class="method-source-code" id="check_encoding-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 751</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier">check_encoding</span>(<span class="ruby-identifier">str</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">ruby1_8?</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\A\xEF\xBB\xBF/</span>, <span class="ruby-string">''</span>) <span class="ruby-comment"># Get rid of the UTF-8 BOM</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">valid_encoding?</span>
        <span class="ruby-comment"># Get rid of the Unicode BOM if possible</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">encoding</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^UTF-(8|16|32)(BE|LE)?$/</span>
          <span class="ruby-keyword">return</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\\A\uFEFF&quot;</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">str</span>.<span class="ruby-identifier">encoding</span>.<span class="ruby-identifier">name</span>)), <span class="ruby-string">''</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-keyword">return</span> <span class="ruby-identifier">str</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">encoding</span>
      <span class="ruby-identifier">newlines</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\r\n|\r|\n&quot;</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">encoding</span>).<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;binary&quot;</span>))
      <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;binary&quot;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-identifier">newlines</span>).<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">begin</span>
          <span class="ruby-identifier">line</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">encoding</span>)
        <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UndefinedConversionError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
          <span class="ruby-keyword">yield</span> <span class="ruby-operator">&lt;&lt;</span><span class="ruby-constant">MSG</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
<span class="ruby-constant">Invalid</span> <span class="ruby-comment">#{encoding.name} character #{undefined_conversion_error_char(e)}</span>
<span class="ruby-constant">MSG</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">str</span>
    <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_range" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_range</span><span
            class="method-args">(name, range, value, unit = '')</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Asserts that `value` falls within `range` (inclusive), leaving room for
slight floating-point errors.</p>

<p>@param name [String] The name of the value. Used in the error message.
@param range [Range] The allowed range of values. @param value [Numeric,
Sass::Script::Value::Number] The value to check. @param unit [String] The
unit of the value. Used in error reporting. @return [Numeric] `value`
adjusted to fall within range, if it</p>

<pre>was outside by a floating-point margin.</pre>
          
          

          
          <div class="method-source-code" id="check_range-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 363</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_range</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">range</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">unit</span> = <span class="ruby-string">''</span>)
  <span class="ruby-identifier">grace</span> = (<span class="ruby-value">-0.00001</span><span class="ruby-operator">..</span><span class="ruby-value">0.00001</span>)
  <span class="ruby-identifier">str</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">value</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">value</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Value</span><span class="ruby-operator">::</span><span class="ruby-constant">Number</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">value</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">range</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">range</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">grace</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">value</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">range</span>.<span class="ruby-identifier">first</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">range</span>.<span class="ruby-identifier">last</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">grace</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">value</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">range</span>.<span class="ruby-identifier">last</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(
    <span class="ruby-node">&quot;#{name} #{str} must be between #{range.first}#{unit} and #{range.last}#{unit}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_sass_encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_sass_encoding</span><span
            class="method-args">(str, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Like {#check_encoding}, but also checks for a `@charset` declaration at the
beginning of the file and uses that encoding if it exists.</p>

<p>The <a href="../Sass.html">Sass</a> encoding rules are simple. If a
`@charset` declaration exists, we assume that that’s the original encoding
of the document. Otherwise, we use whatever encoding Ruby has. Then we
convert that to UTF-8 to process internally. The UTF-8 end result is what’s
returned by this method.</p>

<p>@param str [String] The string of which to check the encoding @yield [msg]
A block in which an encoding error can be raised.</p>

<pre>Only yields if there is an encoding error</pre>

<p>@yieldparam msg [String] The error message to be raised @return [(String,
Encoding)] The original string encoded as UTF-8,</p>

<pre>and the source encoding of the string (or `nil` under Ruby 1.8)</pre>

<p>@raise [Encoding::UndefinedConversionError] if the source encoding</p>

<pre>cannot be converted to UTF-8</pre>

<p>@raise [ArgumentError] if the document uses an unknown encoding with
`@charset`</p>
          
          

          
          <div class="method-source-code" id="check_sass_encoding-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 796</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_sass_encoding</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">check_encoding</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>), <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ruby1_8?</span>
  <span class="ruby-comment"># We allow any printable ASCII characters but double quotes in the charset decl</span>
  <span class="ruby-identifier">bin</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;BINARY&quot;</span>)
  <span class="ruby-identifier">encoding</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">ENCODINGS_TO_CHECK</span>.<span class="ruby-identifier">find</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">enc</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">re</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">CHARSET_REGEXPS</span>[<span class="ruby-identifier">enc</span>]
    <span class="ruby-identifier">re</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">bin</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">re</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">charset</span>, <span class="ruby-identifier">bom</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">charset</span>
    <span class="ruby-identifier">charset</span> = <span class="ruby-identifier">charset</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">encoding</span>).<span class="ruby-identifier">encode</span>(<span class="ruby-string">&quot;UTF-8&quot;</span>)
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">endianness</span> = <span class="ruby-identifier">encoding</span>[<span class="ruby-regexp">/[BL]E$/</span>])
      <span class="ruby-keyword">begin</span>
        <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">charset</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">endianness</span>)
        <span class="ruby-identifier">charset</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">endianness</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-comment"># Encoding charset + endianness doesn't exist</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">charset</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">bom</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">encoding</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">str</span> = <span class="ruby-identifier">check_encoding</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-string">&quot;UTF-8&quot;</span>), <span class="ruby-identifier">str</span>.<span class="ruby-identifier">encoding</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cleanpath" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cleanpath</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Like `Pathname#cleanpath`, but normalizes Windows paths to always use
backslash separators. Normally, `Pathname#cleanpath` actually does the
reverse – it will convert backslashes to forward slashes, which can break
`Pathname#relative_path_from`.</p>

<p>@param path [String, Pathname] @return [Pathname]</p>
          
          

          
          <div class="method-source-code" id="cleanpath-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 646</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cleanpath</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Pathname</span>)
  <span class="ruby-identifier">pathname</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">cleanpath</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-deprecated" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deprecated</span><span
            class="method-args">(obj, message = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Prints a deprecation warning for the caller method.</p>

<p>@param obj [Object] `self` @param message [String] A message describing
what to do instead.</p>
          
          

          
          <div class="method-source-code" id="deprecated-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">deprecated</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">message</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">obj_class</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Class</span>) <span class="ruby-operator">?</span> <span class="ruby-node">&quot;#{obj}.&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;#{obj.class}#&quot;</span>
  <span class="ruby-identifier">full_message</span> = <span class="ruby-node">&quot;DEPRECATION WARNING: #{obj_class}#{caller_info[2]} &quot;</span> <span class="ruby-operator">+</span>
    <span class="ruby-node">&quot;will be removed in a future version of Sass.#{(&quot;\n&quot; + message) if message}&quot;</span>
  <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">sass_warn</span> <span class="ruby-identifier">full_message</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-destructure" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">destructure</span><span
            class="method-args">(val)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Prepare a value for a destructuring assignment (e.g. `a, b = val`). This
works around a performance bug when using ActiveSupport, and only needs to
be called when `val` is likely to be `nil` reasonably often.</p>

<p>See [this bug report](<a
href="http://redmine.ruby-lang.org/issues/4917">redmine.ruby-lang.org/issues/4917</a>).</p>

<p>@param val [Object] @return [Object]</p>
          
          

          
          <div class="method-source-code" id="destructure-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 660</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destructure</span>(<span class="ruby-identifier">val</span>)
  <span class="ruby-identifier">val</span> <span class="ruby-operator">||</span> []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-encode_vlq" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">encode_vlq</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Encodes `value` as VLQ (<a
href="http://en.wikipedia.org/wiki/VLQ">en.wikipedia.org/wiki/VLQ</a>).</p>

<p>@param value [Fixnum] @return [String] The encoded value</p>
          
          

          
          <div class="method-source-code" id="encode_vlq-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">encode_vlq</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">value</span> = ((<span class="ruby-operator">-</span><span class="ruby-identifier">value</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">1</span>) <span class="ruby-operator">|</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">value</span> <span class="ruby-operator">&lt;&lt;=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">digit</span> = <span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;</span> <span class="ruby-constant">VLQ_BASE_MASK</span>
    <span class="ruby-identifier">value</span> <span class="ruby-operator">&gt;&gt;=</span> <span class="ruby-constant">VLQ_BASE_SHIFT</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
      <span class="ruby-identifier">digit</span> <span class="ruby-operator">|=</span> <span class="ruby-constant">VLQ_CONTINUATION_BIT</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">BASE64_DIGITS</span>[<span class="ruby-identifier">digit</span>]
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-enum_cons" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">enum_cons</span><span
            class="method-args">(enum, n)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A version of `Enumerable#enum_cons` that works in Ruby 1.8 and 1.9.</p>

<p>@param enum [Enumerable] The enumerable to get the enumerator for @param n
[Fixnum] The size of each cons @return [Enumerator] The consed enumerator</p>
          
          

          
          <div class="method-source-code" id="enum_cons-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 883</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enum_cons</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">n</span>)
  <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">enum_cons</span>(<span class="ruby-identifier">n</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">each_cons</span>(<span class="ruby-identifier">n</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-enum_slice" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">enum_slice</span><span
            class="method-args">(enum, n)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A version of `Enumerable#enum_slice` that works in Ruby 1.8 and 1.9.</p>

<p>@param enum [Enumerable] The enumerable to get the enumerator for @param n
[Fixnum] The size of each slice @return [Enumerator] The consed enumerator</p>
          
          

          
          <div class="method-source-code" id="enum_slice-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 892</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enum_slice</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">n</span>)
  <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">enum_slice</span>(<span class="ruby-identifier">n</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">n</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-enum_with_index" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">enum_with_index</span><span
            class="method-args">(enum)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A version of `Enumerable#enum_with_index` that works in Ruby 1.8 and 1.9.</p>

<p>@param enum [Enumerable] The enumerable to get the enumerator for @return
[Enumerator] The with-index enumerator</p>
          
          

          
          <div class="method-source-code" id="enum_with_index-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enum_with_index</span>(<span class="ruby-identifier">enum</span>)
  <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">enum_with_index</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">each_with_index</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-escape_uri" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">escape_uri</span><span
            class="method-args">(string)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>URI-escape `string`.</p>

<p>@param string [String] @return [String]</p>
          
          

          
          <div class="method-source-code" id="escape_uri-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1143</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">escape_uri</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-constant">URI_ESCAPE</span>.<span class="ruby-identifier">escape</span> <span class="ruby-identifier">string</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extract-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extract!</span><span
            class="method-args">(array) { |e| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively removes all elements from an array that match a block, and
returns the removed elements.</p>

<p>@param array [Array] The array from which to remove elements. @yield [el]
Called for each element. @yieldparam el [*] The element to test.
@yieldreturn [Boolean] Whether or not to extract the element. @return
[Array] The extracted elements.</p>
          
          

          
          <div class="method-source-code" id="extract-21-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 904</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extract!</span>(<span class="ruby-identifier">array</span>)
  <span class="ruby-identifier">out</span> = []
  <span class="ruby-identifier">array</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extract_values" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extract_values</span><span
            class="method-args">(arr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Extracts the non-string vlaues from an array containing both strings and
non-strings. These values are replaced with escape sequences. This can be
undone using {#inject_values}.</p>

<p>This is useful e.g. when we want to do string manipulation on an
interpolated string.</p>

<p>The precise format of the resulting string is not guaranteed. However, it
is guaranteed that newlines and whitespace won’t be affected.</p>

<p>@param arr [Array] The array from which values are extracted. @return
[(String, Array)] The resulting string, and an array of extracted values.</p>
          
          

          
          <div class="method-source-code" id="extract_values-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 998</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extract_values</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">values</span> = []
  <span class="ruby-identifier">mapped</span> = <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'{'</span>, <span class="ruby-string">'{{'</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
    <span class="ruby-identifier">values</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">next</span> <span class="ruby-node">&quot;{#{values.count - 1}}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">mapped</span>.<span class="ruby-identifier">join</span>, <span class="ruby-identifier">values</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-flatten" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flatten</span><span
            class="method-args">(arr, n)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Flattens the first `n` nested arrays in a cross-version manner.</p>

<p>@param arr [Array] The array to flatten @param n [Fixnum] The number of
levels to flatten @return [Array] The flattened array</p>
          
          

          
          <div class="method-source-code" id="flatten-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 927</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">arr</span>, <span class="ruby-identifier">n</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">n</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8_6?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">arr</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">inject</span>([]) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span>, <span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">n</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)) <span class="ruby-operator">:</span> <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-flatten_vertically" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flatten_vertically</span><span
            class="method-args">(arrs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Flattens the first level of nested arrays in `arrs`. Unlike
`Array#flatten`, this orders the result by taking the first values from
each array in order, then the second, and so on.</p>

<p>@param arrs [Array] The array to flatten. @return [Array] The flattened
array.</p>
          
          

          
          <div class="method-source-code" id="flatten_vertically-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 939</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flatten_vertically</span>(<span class="ruby-identifier">arrs</span>)
  <span class="ruby-identifier">result</span> = []
  <span class="ruby-identifier">arrs</span> = <span class="ruby-identifier">arrs</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">sub</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sub</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">sub</span>.<span class="ruby-identifier">dup</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Array</span>(<span class="ruby-identifier">sub</span>)}
  <span class="ruby-keyword">until</span> <span class="ruby-identifier">arrs</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">arrs</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arr</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">shift</span>
      <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-glob" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">glob</span><span
            class="method-args">(path) { |f| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Like `Dir.glob`, but works with backslash-separated paths on Windows.</p>

<p>@param path [String]</p>
          
          

          
          <div class="method-source-code" id="glob-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 617</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">glob</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'\'</span>, <span class="ruby-string">'/'</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">windows?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">path</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">f</span>)}
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-group_by_to_a" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">group_by_to_a</span><span
            class="method-args">(enum) { |e| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Performs the equivalent of `enum.group_by.to_a`, but with a guaranteed
order. Unlike {Util#hash_to_a}, the resulting order isn’t sorted key order;
instead, it’s the same order as `#group_by` has under Ruby 1.9 (key
appearance order).</p>

<p>@param enum [Enumerable] @return [Array&lt;[Object, Array]&gt;] An array of
pairs.</p>
          
          

          
          <div class="method-source-code" id="group_by_to_a-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">group_by_to_a</span>(<span class="ruby-identifier">enum</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">group_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">e</span>)}.<span class="ruby-identifier">to_a</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8?</span>
  <span class="ruby-identifier">order</span> = {}
  <span class="ruby-identifier">arr</span> = []
  <span class="ruby-identifier">groups</span> = <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">group_by</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">res</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">e</span>)
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">res</span>)
      <span class="ruby-identifier">order</span>[<span class="ruby-identifier">res</span>] = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">res</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">groups</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">vals</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">arr</span>[<span class="ruby-identifier">order</span>[<span class="ruby-identifier">key</span>]] = [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">vals</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">arr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-has-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">has?</span><span
            class="method-args">(attr, klass, method)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks to see if a class has a given method. For example:</p>

<pre class="ruby"><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">has?</span>(:<span class="ruby-identifier">public_instance_method</span>, <span class="ruby-constant">String</span>, :<span class="ruby-identifier">gsub</span>) <span class="ruby-comment">#=&gt; true</span>
</pre>

<p>Method collections like `Class#instance_methods` return strings in Ruby 1.8
and symbols in Ruby 1.9 and on, so this handles checking for them in a
compatible way.</p>

<p>@param attr [#to_s] The (singular) name of the method-collection method</p>

<pre>(e.g. `:instance_methods`, `:private_methods`)</pre>

<p>@param klass [Module] The class to check the methods of which to check
@param method [String, Symbol] The name of the method do check for @return
[Boolean] Whether or not the given collection has the given method</p>
          
          

          
          <div class="method-source-code" id="has-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 866</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has?</span>(<span class="ruby-identifier">attr</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">method</span>)
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{attr}s&quot;</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">ruby1_8?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-hash_to_a" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hash_to_a</span><span
            class="method-args">(hash)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a Hash to an Array. This is usually identical to `Hash#to_a`, with
the following exceptions:</p>
<ul><li>
<p>In Ruby 1.8, `Hash#to_a` is not deterministically ordered, but this is.</p>
</li><li>
<p>In Ruby 1.9 when running tests, this is ordered in the same way it would be
under Ruby 1.8 (sorted key order rather than insertion order).</p>
</li></ul>

<p>@param hash [Hash] @return [Array]</p>
          
          

          
          <div class="method-source-code" id="hash_to_a-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hash_to_a</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_a</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Unit</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">sort_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-inject_values" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inject_values</span><span
            class="method-args">(str, values)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Undoes {#extract_values} by transforming a string with escape sequences
into an array of strings and non-string values.</p>

<p>@param str [String] The string with escape sequences. @param values [Array]
The array of values to inject. @return [Array] The array of strings and
values.</p>
          
          

          
          <div class="method-source-code" id="inject_values-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1014</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inject_values</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">values</span>)
  <span class="ruby-keyword">return</span> [<span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'{{'</span>, <span class="ruby-string">'{'</span>)] <span class="ruby-keyword">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-comment"># Add an extra { so that we process the tail end of the string</span>
  <span class="ruby-identifier">result</span> = (<span class="ruby-identifier">str</span> <span class="ruby-operator">+</span> <span class="ruby-string">'{{'</span>).<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/(.*?)(?:(\{\{)|\{(\d+)\})/m</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span>(<span class="ruby-identifier">pre</span>, <span class="ruby-identifier">esc</span>, <span class="ruby-identifier">n</span>)<span class="ruby-operator">|</span>
    [<span class="ruby-identifier">pre</span>, <span class="ruby-identifier">esc</span> <span class="ruby-operator">?</span> <span class="ruby-string">'{'</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>, <span class="ruby-identifier">n</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">values</span>[<span class="ruby-identifier">n</span>.<span class="ruby-identifier">to_i</span>] <span class="ruby-operator">:</span> <span class="ruby-string">''</span>]
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-value">1</span>)
  <span class="ruby-identifier">result</span>[<span class="ruby-value">-2</span>] = <span class="ruby-string">''</span> <span class="ruby-comment"># Get rid of the extra {</span>
  <span class="ruby-identifier">merge_adjacent_strings</span>(<span class="ruby-identifier">result</span>).<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">==</span> <span class="ruby-string">''</span>}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-inspect_obj" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inspect_obj</span><span
            class="method-args">(obj)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Like `Object#inspect`, but preserves non-ASCII characters rather than
escaping them under Ruby 1.9.2.  This is necessary so that the precompiled
Haml template can be `#encode`d into `@<a href=":encoding">options</a>`
before being evaluated.</p>

<p>@param obj {Object} @return {String}</p>
          
          

          
          <div class="method-source-code" id="inspect_obj-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 979</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect_obj</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">version_geq</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RUBY_VERSION</span>, <span class="ruby-string">&quot;1.9.2&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">':'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">inspect_obj</span>(<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">to_s</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
  <span class="ruby-string">'&quot;'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/[\x00-\x7F]+/</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">inspect</span>[<span class="ruby-value">1</span><span class="ruby-operator">...</span><span class="ruby-value">-1</span>]} <span class="ruby-operator">+</span> <span class="ruby-string">'&quot;'</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-intersperse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">intersperse</span><span
            class="method-args">(enum, val)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Intersperses a value in an enumerable, as would be done with `Array#join`
but without concatenating the array together afterwards.</p>

<p>@param enum [Enumerable] @param val @return [Array]</p>
          
          

          
          <div class="method-source-code" id="intersperse-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">intersperse</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">val</span>)
  <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">inject</span>([]) {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">val</span>}[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-value">-1</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ironruby-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ironruby?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running on IronRuby.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="ironruby-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 586</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ironruby?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@ironruby</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@ironruby</span>)
  <span class="ruby-ivar">@ironruby</span> = <span class="ruby-constant">RUBY_ENGINE</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;ironruby&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-jruby1_6-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">jruby1_6?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Wehter or not this is running under JRuby 1.6 or lower.</p>
          
          

          
          <div class="method-source-code" id="jruby1_6-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 698</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">jruby1_6?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@jruby1_6</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@jruby1_6</span>)
  <span class="ruby-ivar">@jruby1_6</span> = <span class="ruby-identifier">jruby?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">jruby_version</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">jruby_version</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-value">7</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-jruby-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">jruby?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running on JRuby.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="jruby-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 602</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">jruby?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@jruby</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@jruby</span>)
  <span class="ruby-ivar">@jruby</span> = <span class="ruby-constant">RUBY_PLATFORM</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/java/</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-jruby_version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">jruby_version</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an array of ints representing the JRuby version number.</p>

<p>@return [Array&lt;Fixnum&gt;]</p>
          
          

          
          <div class="method-source-code" id="jruby_version-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 610</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">jruby_version</span>
  <span class="ruby-ivar">@jruby_version</span> <span class="ruby-operator">||=</span> <span class="ruby-operator">::</span><span class="ruby-constant">JRUBY_VERSION</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;.&quot;</span>).<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">to_i</span>}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-json_escape_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">json_escape_string</span><span
            class="method-args">(s)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Escapes certain characters so that the result can be used as the JSON
string value. Returns the original string if no escaping is necessary.</p>

<p>@param s [String] The string to be escaped @return [String] The escaped
string</p>
          
          

          
          <div class="method-source-code" id="json_escape_string-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1052</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">json_escape_string</span>(<span class="ruby-identifier">s</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp">/[&quot;\\b\f\n\r\t]/</span>

  <span class="ruby-identifier">result</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">c</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'&quot;'</span>, <span class="ruby-string">&quot;\\&quot;</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\\&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\\n&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;\t&quot;</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\\t&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;\r&quot;</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\\r&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;\f&quot;</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\\f&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;\b&quot;</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\\b&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-json_value_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">json_value_of</span><span
            class="method-args">(v)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts the argument into a valid JSON value.</p>

<p>@param v [Fixnum, String, Array, Boolean, nil] @return [String]</p>
          
          

          
          <div class="method-source-code" id="json_value_of-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1076</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">json_value_of</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Fixnum</span>
    <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-string">&quot;\&quot;&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">json_escape_string</span>(<span class="ruby-identifier">v</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\&quot;&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-string">&quot;[&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">json_value_of</span>(<span class="ruby-identifier">x</span>)}.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;,&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;]&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">NilClass</span>
    <span class="ruby-string">&quot;null&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">TrueClass</span>
    <span class="ruby-string">&quot;true&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">FalseClass</span>
    <span class="ruby-string">&quot;false&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Unknown type: #{v.class.name}&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-lcs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lcs</span><span
            class="method-args">(x, y, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Computes a single longest common subsequence for `x` and `y`. If there are
more than one longest common subsequences, the one returned is that which
starts first in `x`.</p>

<p>@param x [Array] @param y [Array] @yield [a, b] An optional block to use in
place of a check for equality</p>

<pre>between elements of `x` and `y`.</pre>

<p>@yieldreturn [Object, nil] If the two values register as equal,</p>

<pre>this will return the value to use in the LCS array.</pre>

<p>@return [Array] The LCS</p>
          
          

          
          <div class="method-source-code" id="lcs-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lcs</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">x</span> = [<span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">x</span>]
  <span class="ruby-identifier">y</span> = [<span class="ruby-keyword">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">y</span>]
  <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">a</span>}
  <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">lcs_table</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>), <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">x</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">y</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-listen_geq_2-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">listen_geq_2?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns whether this environment is using Listen version 2.0.0 or greater.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="listen_geq_2-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 546</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">listen_geq_2?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@listen_geq_2</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@listen_geq_2</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@listen_geq_2</span> =
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'listen/version'</span>
      <span class="ruby-identifier">version_geq</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Listen</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>, <span class="ruby-string">'2.0.0'</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
      <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-load_listen-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">load_listen!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="load_listen-21-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1218</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">load_listen!</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-identifier">gem</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">gem</span> <span class="ruby-string">'listen'</span>, <span class="ruby-string">'&gt;= 1.1.0'</span>, <span class="ruby-string">'&lt; 3.0.0'</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'listen'</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">LoadError</span>
      <span class="ruby-identifier">dir</span> = <span class="ruby-identifier">scope</span>(<span class="ruby-string">&quot;vendor/listen/lib&quot;</span>)
      <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">dir</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">require</span> <span class="ruby-string">'listen'</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">version_geq</span>(<span class="ruby-constant">RUBY_VERSION</span>, <span class="ruby-string">&quot;1.9.3&quot;</span>)
          <span class="ruby-identifier">version_constraint</span> = <span class="ruby-string">&quot;~&gt; 2.7&quot;</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">version_constraint</span> = <span class="ruby-string">&quot;~&gt; 1.1&quot;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">&lt;&lt;</span>
          <span class="ruby-node">&quot;Run \&quot;gem install listen --version '#{version_constraint}'\&quot; to get it.&quot;</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">'listen'</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">dir</span> = <span class="ruby-identifier">scope</span>(<span class="ruby-string">&quot;vendor/listen/lib&quot;</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">dir</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">scope</span>(<span class="ruby-string">&quot;.git&quot;</span>))
        <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">&lt;&lt;</span>
          <span class="ruby-string">'Run &quot;git submodule update --init&quot; to get the bundled version.'</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">dir</span>
        <span class="ruby-keyword">retry</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-macruby-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">macruby?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running under MacRuby.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="macruby-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 706</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">macruby?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@macruby</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@macruby</span>)
  <span class="ruby-ivar">@macruby</span> = <span class="ruby-constant">RUBY_ENGINE</span> <span class="ruby-operator">==</span> <span class="ruby-string">'macruby'</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-map_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">map_hash</span><span
            class="method-args">(hash) { |k, v| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Maps the key-value pairs of a hash according to a block.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">map_hash</span>({:<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;bar&quot;</span>, :<span class="ruby-identifier">baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;bang&quot;</span>}) {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_sym</span>]}
  <span class="ruby-comment">#=&gt; {&quot;foo&quot; =&gt; :bar, &quot;baz&quot; =&gt; :bang}</span>
</pre>

<p>@param hash [Hash] The hash to map @yield [key, value] A block in which the
key-value pairs are transformed @yieldparam [key] The hash key @yieldparam
[value] The hash value @yieldreturn [(Object, <a
href="../Object.html">Object</a>)] The new value for the `[key, value]`
pair @return [Hash] The mapped hash @see <a
href="Util.html#method-i-map_keys">map_keys</a> @see <a
href="Util.html#method-i-map_vals">map_vals</a></p>
          
          

          
          <div class="method-source-code" id="map_hash-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">map_hash</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-comment"># Copy and modify is more performant than mapping to an array and using</span>
  <span class="ruby-comment"># to_hash on the result.</span>
  <span class="ruby-identifier">rv</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">new_key</span>, <span class="ruby-identifier">new_value</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)
    <span class="ruby-identifier">new_key</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">denormalize</span>(<span class="ruby-identifier">new_key</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">NormalizedMap</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">new_key</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">k</span>
    <span class="ruby-identifier">rv</span>[<span class="ruby-identifier">new_key</span>] = <span class="ruby-identifier">new_value</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">rv</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-map_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">map_keys</span><span
            class="method-args">(hash) { |k| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Maps the keys in a hash according to a block.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">map_keys</span>({:<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;bar&quot;</span>, :<span class="ruby-identifier">baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;bang&quot;</span>}) {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>}
  <span class="ruby-comment">#=&gt; {&quot;foo&quot; =&gt; &quot;bar&quot;, &quot;baz&quot; =&gt; &quot;bang&quot;}</span>
</pre>

<p>@param hash [Hash] The hash to map @yield [key] A block in which the keys
are transformed @yieldparam key [Object] The key that should be mapped
@yieldreturn [Object] The new value for the key @return [Hash] The mapped
hash @see <a href="Util.html#method-i-map_vals">map_vals</a> @see <a
href="Util.html#method-i-map_hash">map_hash</a></p>
          
          

          
          <div class="method-source-code" id="map_keys-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">map_keys</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">map_hash</span>(<span class="ruby-identifier">hash</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> [<span class="ruby-keyword">yield</span>(<span class="ruby-identifier">k</span>), <span class="ruby-identifier">v</span>]}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-map_vals" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">map_vals</span><span
            class="method-args">(hash) { |v| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Maps the values in a hash according to a block.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">map_values</span>({:<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;bar&quot;</span>, :<span class="ruby-identifier">baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;bang&quot;</span>}) {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_sym</span>}
  <span class="ruby-comment">#=&gt; {:foo =&gt; :bar, :baz =&gt; :bang}</span>
</pre>

<p>@param hash [Hash] The hash to map @yield [value] A block in which the
values are transformed @yieldparam value [Object] The value that should be
mapped @yieldreturn [Object] The new value for the value @return [Hash] The
mapped hash @see <a href="Util.html#method-i-map_keys">map_keys</a> @see <a
href="Util.html#method-i-map_hash">map_hash</a></p>
          
          

          
          <div class="method-source-code" id="map_vals-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">map_vals</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-comment"># We don't delegate to map_hash for performance here</span>
  <span class="ruby-comment"># because map_hash does more than is necessary.</span>
  <span class="ruby-identifier">rv</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">as_stored</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">NormalizedMap</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">rv</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">rv</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-merge_adjacent_strings" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">merge_adjacent_strings</span><span
            class="method-args">(arr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Concatenates all strings that are adjacent in an array, while leaving other
elements as they are.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">merge_adjacent_strings</span>([<span class="ruby-value">1</span>, <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-string">&quot;baz&quot;</span>])
  <span class="ruby-comment">#=&gt; [1, &quot;foobar&quot;, 2, &quot;baz&quot;]</span>
</pre>

<p>@param arr [Array] @return [Array] The enumerable with strings merged</p>
          
          

          
          <div class="method-source-code" id="merge_adjacent_strings-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">merge_adjacent_strings</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-comment"># Optimize for the common case of one element</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">arr</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>
  <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">inject</span>([]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
        <span class="ruby-identifier">a</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">dup</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ord" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ord</span><span
            class="method-args">(c)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the ASCII code of the given character.</p>

<p>@param c [String] All characters but the first are ignored. @return
[Fixnum] The ASCII code of `c`.</p>
          
          

          
          <div class="method-source-code" id="ord-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 918</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ord</span>(<span class="ruby-identifier">c</span>)
  <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">c</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">ord</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ordered_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ordered_hash</span><span
            class="method-args">(*pairs_or_hash)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a hash or a list of pairs into an order-preserving hash.</p>

<p>On Ruby 1.8.7, this uses the orderedhash gem to simulate an
order-preserving hash. On Ruby 1.9 and up, it just uses the native Hash
class, since that preserves the order itself.</p>

<p>@overload <a href="Util.html#method-i-ordered_hash">#ordered_hash</a>(hash)</p>

<pre>@param hash [Hash] a normal hash to convert to an ordered hash
@return [Hash]</pre>

<p>@overload <a
href="Util.html#method-i-ordered_hash">#ordered_hash</a>(*pairs)</p>

<pre class="ruby"><span class="ruby-ivar">@example</span>
  <span class="ruby-identifier">ordered_hash</span>([:<span class="ruby-identifier">foo</span>, <span class="ruby-string">&quot;bar&quot;</span>], [:<span class="ruby-identifier">baz</span>, <span class="ruby-string">&quot;bang&quot;</span>])
    <span class="ruby-comment">#=&gt; {:foo =&gt; &quot;bar&quot;, :baz =&gt; &quot;bang&quot;}</span>
  <span class="ruby-identifier">ordered_hash</span> <span class="ruby-comment">#=&gt; {}</span>
<span class="ruby-ivar">@param</span> <span class="ruby-identifier">pairs</span> [<span class="ruby-constant">Array</span><span class="ruby-operator">&lt;</span>(<span class="ruby-constant">Object</span>, <span class="ruby-constant">Object</span>)<span class="ruby-operator">&gt;</span>] <span class="ruby-identifier">the</span> <span class="ruby-identifier">list</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">key</span><span class="ruby-operator">/</span><span class="ruby-identifier">value</span> <span class="ruby-identifier">pairs</span> <span class="ruby-keyword">for</span>
  <span class="ruby-identifier">the</span> <span class="ruby-identifier">hash</span>.
<span class="ruby-ivar">@return</span> [<span class="ruby-constant">Hash</span>]
</pre>
          
          

          
          <div class="method-source-code" id="ordered_hash-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 730</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ordered_hash</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">pairs_or_hash</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">pairs_or_hash</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">pairs_or_hash</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">pairs_or_hash</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-constant">OrderedHash</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">merge</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">pairs_or_hash</span>] <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8?</span>
  (<span class="ruby-identifier">pairs_or_hash</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">NormalizedMap</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">NormalizedMap</span> <span class="ruby-operator">:</span> <span class="ruby-constant">OrderedHash</span>)[<span class="ruby-operator">*</span><span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">pairs_or_hash</span>, <span class="ruby-value">1</span>)]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pathname" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pathname</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Like `Pathname.new`, but normalizes Windows paths to always use backslash
separators.</p>

<p>`Pathname#relative_path_from` can break if the two pathnames aren’t
consistent in their slash style.</p>

<p>@param path [String] @return [Pathname]</p>
          
          

          
          <div class="method-source-code" id="pathname-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 634</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pathname</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">tr</span>(<span class="ruby-string">&quot;/&quot;</span>, <span class="ruby-string">&quot;\\&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">windows?</span>
  <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-paths" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">paths</span><span
            class="method-args">(arrs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return an array of all possible paths through the given arrays.</p>

<p>@param arrs [Array&lt;Array&gt;] @return [Array&lt;Arrays&gt;]</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">paths</span>([[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], [<span class="ruby-value">3</span>, <span class="ruby-value">4</span>], [<span class="ruby-value">5</span>]]) <span class="ruby-comment">#=&gt;</span>
  <span class="ruby-comment"># [[1, 3, 5],</span>
  <span class="ruby-comment">#  [2, 3, 5],</span>
  <span class="ruby-comment">#  [1, 4, 5],</span>
  <span class="ruby-comment">#  [2, 4, 5]]</span>
</pre>
          
          

          
          <div class="method-source-code" id="paths-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">paths</span>(<span class="ruby-identifier">arrs</span>)
  <span class="ruby-identifier">arrs</span>.<span class="ruby-identifier">inject</span>([[]]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">paths</span>, <span class="ruby-identifier">arr</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">arr</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">e</span>]}}, <span class="ruby-value">1</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-powerset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">powerset</span><span
            class="method-args">(arr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Computes the powerset of the given array. This is the set of all subsets of
the array.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">powerset</span>([<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>]) <span class="ruby-comment">#=&gt;</span>
  <span class="ruby-constant">Set</span>[<span class="ruby-constant">Set</span>[], <span class="ruby-constant">Set</span>[<span class="ruby-value">1</span>], <span class="ruby-constant">Set</span>[<span class="ruby-value">2</span>], <span class="ruby-constant">Set</span>[<span class="ruby-value">3</span>], <span class="ruby-constant">Set</span>[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], <span class="ruby-constant">Set</span>[<span class="ruby-value">2</span>, <span class="ruby-value">3</span>], <span class="ruby-constant">Set</span>[<span class="ruby-value">1</span>, <span class="ruby-value">3</span>], <span class="ruby-constant">Set</span>[<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>]]
</pre>

<p>@param arr [Enumerable] @return [Set&lt;Set&gt;] The subsets of `arr`</p>
          
          

          
          <div class="method-source-code" id="powerset-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">powerset</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">inject</span>([<span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>].<span class="ruby-identifier">to_set</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">powerset</span>, <span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">new_powerset</span> = <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">powerset</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">subset</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">new_powerset</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">subset</span>
      <span class="ruby-identifier">new_powerset</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">subset</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">el</span>]
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">new_powerset</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rails_env" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rails_env</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the environment of the Rails application, if this is running in a
Rails context. Returns `nil` if no such environment is defined.</p>

<p>@return [String, nil]</p>
          
          

          
          <div class="method-source-code" id="rails_env-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 513</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rails_env</span>
  <span class="ruby-keyword">return</span> <span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">RAILS_ENV</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RAILS_ENV</span>)
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rails_root" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rails_root</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the root of the Rails application, if this is running in a Rails
context. Returns `nil` if no such root is defined.</p>

<p>@return [String, nil]</p>
          
          

          
          <div class="method-source-code" id="rails_root-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 499</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rails_root</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;ERROR: Rails.root is nil!&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">RAILS_ROOT</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RAILS_ROOT</span>)
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rbx-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rbx?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running on Rubinius.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="rbx-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 594</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rbx?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@rbx</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@rbx</span>)
  <span class="ruby-ivar">@rbx</span> = <span class="ruby-constant">RUBY_ENGINE</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;rbx&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-replace_subseq" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">replace_subseq</span><span
            class="method-args">(arr, subseq, replacement)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Non-destructively replaces all occurrences of a subsequence in an array
with another subsequence.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">replace_subseq</span>([<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>], [<span class="ruby-value">2</span>, <span class="ruby-value">3</span>], [:<span class="ruby-identifier">a</span>, :<span class="ruby-identifier">b</span>])
  <span class="ruby-comment">#=&gt; [1, :a, :b, 4, 5]</span>
</pre>

<p>@param arr [Array] The array whose subsequences will be replaced. @param
subseq [Array] The subsequence to find and replace. @param replacement
[Array] The sequence that `subseq` will be replaced with. @return [Array]
`arr` with `subseq` replaced with `replacement`.</p>
          
          

          
          <div class="method-source-code" id="replace_subseq-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">replace_subseq</span>(<span class="ruby-identifier">arr</span>, <span class="ruby-identifier">subseq</span>, <span class="ruby-identifier">replacement</span>)
  <span class="ruby-identifier">new</span> = []
  <span class="ruby-identifier">matched</span> = []
  <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elem</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">elem</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">subseq</span>[<span class="ruby-identifier">i</span>]
      <span class="ruby-identifier">new</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">matched</span>)
      <span class="ruby-identifier">matched</span> = []
      <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
      <span class="ruby-identifier">new</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">elem</span>
      <span class="ruby-keyword">next</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">subseq</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">matched</span> = []
      <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
      <span class="ruby-identifier">new</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">replacement</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">matched</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">elem</span>
      <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">new</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">matched</span>)
  <span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-restrict" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">restrict</span><span
            class="method-args">(value, range)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Restricts a number to falling within a given range. Returns the number if
it falls within the range, or the closest value in the range if it doesn’t.</p>

<p>@param value [Numeric] @param range [Range&lt;Numeric&gt;] @return
[Numeric]</p>
          
          

          
          <div class="method-source-code" id="restrict-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">restrict</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">range</span>)
  [[<span class="ruby-identifier">value</span>, <span class="ruby-identifier">range</span>.<span class="ruby-identifier">first</span>].<span class="ruby-identifier">max</span>, <span class="ruby-identifier">range</span>.<span class="ruby-identifier">last</span>].<span class="ruby-identifier">min</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ruby1-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ruby1?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running under a Ruby version under 2.0.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="ruby1-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 669</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ruby1?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@ruby1</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@ruby1</span>)
  <span class="ruby-ivar">@ruby1</span> = <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY_VERSION</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ruby1_8-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ruby1_8?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running under Ruby 1.8 or lower.</p>

<p>Note that IronRuby counts as Ruby 1.8, because it doesn’t support the Ruby
1.9 encoding API.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="ruby1_8-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 680</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ruby1_8?</span>
  <span class="ruby-comment"># IronRuby says its version is 1.9, but doesn't support any of the encoding APIs.</span>
  <span class="ruby-comment"># We have to fall back to 1.8 behavior.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@ruby1_8</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@ruby1_8</span>)
  <span class="ruby-ivar">@ruby1_8</span> = <span class="ruby-identifier">ironruby?</span> <span class="ruby-operator">||</span>
               (<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY_VERSION</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY_VERSION</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-value">9</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ruby1_8_6-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ruby1_8_6?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running under Ruby 1.8.6 or lower. Note that lower
versions are not officially supported.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="ruby1_8_6-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 692</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ruby1_8_6?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@ruby1_8_6</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@ruby1_8_6</span>)
  <span class="ruby-ivar">@ruby1_8_6</span> = <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY_VERSION</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-value">7</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sass_warn" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sass_warn</span><span
            class="method-args">(msg)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The same as `Kernel#warn`, but is silenced by {#silence_sass_warnings}.</p>

<p>@param msg [String]</p>
          
          

          
          <div class="method-source-code" id="sass_warn-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 487</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sass_warn</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">msg</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1?</span>
  <span class="ruby-constant">Sass</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-identifier">msg</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-scope" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scope</span><span
            class="method-args">(file)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the path of a file relative to the <a href="../Sass.html">Sass</a>
root directory.</p>

<p>@param file [String] The filename relative to the <a
href="../Sass.html">Sass</a> root @return [String] The filename relative to
the the working directory</p>
          
          

          
          <div class="method-source-code" id="scope-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scope</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">ROOT_DIR</span>, <span class="ruby-identifier">file</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-set_eql-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_eql?</span><span
            class="method-args">(set1, set2)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests the hash-equality of two sets in a cross-version manner.
Aggravatingly, this is order-dependent in Ruby 1.8.6.</p>

<p>@param set1 [Set] @param set2 [Set] @return [Boolean] Whether or not the
sets are hashcode equal</p>
          
          

          
          <div class="method-source-code" id="set_eql-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 967</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_eql?</span>(<span class="ruby-identifier">set1</span>, <span class="ruby-identifier">set2</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">set1</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">set2</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8_6?</span>
  <span class="ruby-identifier">set1</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">hash</span>}.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">set2</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">hash</span>})
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-set_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_hash</span><span
            class="method-args">(set)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the hash code for a set in a cross-version manner. Aggravatingly,
this is order-dependent in Ruby 1.8.6.</p>

<p>@param set [Set] @return [Fixnum] The order-independent hashcode of `set`</p>
          
          

          
          <div class="method-source-code" id="set_hash-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 956</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_hash</span>(<span class="ruby-identifier">set</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">hash</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ruby1_8_6?</span>
  <span class="ruby-identifier">set</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">hash</span>}.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-silence_sass_warnings" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">silence_sass_warnings</span><span
            class="method-args">() { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Silences all <a href="../Sass.html">Sass</a> warnings within a block.</p>

<p>@yield A block in which no <a href="../Sass.html">Sass</a> warnings will be
printed</p>
          
          

          
          <div class="method-source-code" id="silence_sass_warnings-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 477</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">silence_sass_warnings</span>
  <span class="ruby-identifier">old_level</span>, <span class="ruby-constant">Sass</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">log_level</span> = <span class="ruby-constant">Sass</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">log_level</span>, <span class="ruby-value">:error</span>
  <span class="ruby-keyword">yield</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Sass</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">log_level</span> = <span class="ruby-identifier">old_level</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-silence_warnings" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">silence_warnings</span><span
            class="method-args">() { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Silence all output to STDERR within a block.</p>

<p>@yield A block in which no output will be printed to STDERR</p>
          
          

          
          <div class="method-source-code" id="silence_warnings-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 467</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">silence_warnings</span>
  <span class="ruby-identifier">the_real_stderr</span>, <span class="ruby-identifier">$stderr</span> = <span class="ruby-identifier">$stderr</span>, <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">yield</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">$stderr</span> = <span class="ruby-identifier">the_real_stderr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-slice_by" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">slice_by</span><span
            class="method-args">(enum) { |value| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="slice_by-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">slice_by</span>(<span class="ruby-identifier">enum</span>)
  <span class="ruby-identifier">results</span> = []
  <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">key</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">value</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">results</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">key</span>
      <span class="ruby-identifier">results</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">results</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">key</span>, [<span class="ruby-identifier">value</span>]]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">results</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sourcemap_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sourcemap_name</span><span
            class="method-args">(css)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Builds a sourcemap file name given the generated <a href="CSS.html">CSS</a>
file name.</p>

<p>@param css [String] The generated <a href="CSS.html">CSS</a> file name.
@return [String] The source map file name.</p>
          
          

          
          <div class="method-source-code" id="sourcemap_name-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1042</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sourcemap_name</span>(<span class="ruby-identifier">css</span>)
  <span class="ruby-identifier">css</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;.map&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-strip_string_array" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">strip_string_array</span><span
            class="method-args">(arr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively strips whitespace from the beginning and end of the first and
last elements, respectively, in the array (if those elements are strings).</p>

<p>@param arr [Array] @return [Array] `arr`</p>
          
          

          
          <div class="method-source-code" id="strip_string_array-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">strip_string_array</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">lstrip!</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
  <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">rstrip!</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
  <span class="ruby-identifier">arr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-subsequence-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">subsequence?</span><span
            class="method-args">(seq1, seq2)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns whether or not `seq1` is a subsequence of `seq2`. That is, whether
or not `seq2` contains every element in `seq1` in the same order (and
possibly more elements besides).</p>

<p>@param seq1 [Array] @param seq2 [Array] @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="subsequence-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 381</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">subsequence?</span>(<span class="ruby-identifier">seq1</span>, <span class="ruby-identifier">seq2</span>)
  <span class="ruby-identifier">i</span> = <span class="ruby-identifier">j</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">seq1</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">j</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">seq2</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">seq1</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">seq2</span>[<span class="ruby-identifier">j</span>]
    <span class="ruby-identifier">j</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-substitute" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">substitute</span><span
            class="method-args">(ary, from, to)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Substitutes a sub-array of one array with another sub-array.</p>

<p>@param ary [Array] The array in which to make the substitution @param from
[Array] The sequence of elements to replace with `to` @param to [Array] The
sequence of elements to replace `from` with</p>
          
          

          
          <div class="method-source-code" id="substitute-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">substitute</span>(<span class="ruby-identifier">ary</span>, <span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span>)
  <span class="ruby-identifier">res</span> = <span class="ruby-identifier">ary</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">...</span><span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">from</span>.<span class="ruby-identifier">size</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">from</span>
      <span class="ruby-identifier">res</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">...</span><span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">from</span>.<span class="ruby-identifier">size</span>] = <span class="ruby-identifier">to</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_hash</span><span
            class="method-args">(arr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts an array of `[key, value]` pairs to a hash.</p>

<p>@example</p>

<pre class="ruby"><span class="ruby-identifier">to_hash</span>([[:<span class="ruby-identifier">foo</span>, <span class="ruby-string">&quot;bar&quot;</span>], [:<span class="ruby-identifier">baz</span>, <span class="ruby-string">&quot;bang&quot;</span>]])
  <span class="ruby-comment">#=&gt; {:foo =&gt; &quot;bar&quot;, :baz =&gt; &quot;bang&quot;}</span>
</pre>

<p>@param arr [Array&lt;(Object, <a href="../Object.html">Object</a>)&gt;] An
array of pairs @return [Hash] A hash</p>
          
          

          
          <div class="method-source-code" id="to_hash-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_hash</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">ordered_hash</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arr</span>.<span class="ruby-identifier">compact</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-undefined_conversion_error_char" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">undefined_conversion_error_char</span><span
            class="method-args">(e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a string description of the character that caused an
`Encoding::UndefinedConversionError`.</p>

<p>@param e [Encoding::UndefinedConversionError] @return [String]</p>
          
          

          
          <div class="method-source-code" id="undefined_conversion_error_char-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">undefined_conversion_error_char</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-comment"># Rubinius (as of 2.0.0.rc1) pre-quotes the error character.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">error_char</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rbx?</span>
  <span class="ruby-comment"># JRuby (as of 1.7.2) doesn't have an error_char field on</span>
  <span class="ruby-comment"># Encoding::UndefinedConversionError.</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">error_char</span>.<span class="ruby-identifier">dump</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">jruby?</span>
  <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>[<span class="ruby-regexp">/^&quot;[^&quot;]+&quot;/</span>] <span class="ruby-comment"># &quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-version_geq" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version_geq</span><span
            class="method-args">(v1, v2)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns whether one version string represents the same or a more recent
version than another.</p>

<p>@param v1 [String] A version string. @param v2 [String] Another version
string. @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="version_geq-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">version_geq</span>(<span class="ruby-identifier">v1</span>, <span class="ruby-identifier">v2</span>)
  <span class="ruby-identifier">version_gt</span>(<span class="ruby-identifier">v1</span>, <span class="ruby-identifier">v2</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">version_gt</span>(<span class="ruby-identifier">v2</span>, <span class="ruby-identifier">v1</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-version_gt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version_gt</span><span
            class="method-args">(v1, v2)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns whether one version string represents a more recent version than
another.</p>

<p>@param v1 [String] A version string. @param v2 [String] Another version
string. @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="version_gt-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">version_gt</span>(<span class="ruby-identifier">v1</span>, <span class="ruby-identifier">v2</span>)
  <span class="ruby-comment"># Construct an array to make sure the shorter version is padded with nil</span>
  <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">v1</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">v2</span>.<span class="ruby-identifier">length</span>].<span class="ruby-identifier">max</span>).<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">v1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;.&quot;</span>), <span class="ruby-identifier">v2</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;.&quot;</span>)) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">p1</span>, <span class="ruby-identifier">p2</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">p1</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;0&quot;</span>
    <span class="ruby-identifier">p2</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;0&quot;</span>
    <span class="ruby-identifier">release1</span> = <span class="ruby-identifier">p1</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^[0-9]+$/</span>
    <span class="ruby-identifier">release2</span> = <span class="ruby-identifier">p2</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^[0-9]+$/</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">release1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">release2</span>
      <span class="ruby-comment"># Integer comparison if both are full releases</span>
      <span class="ruby-identifier">p1</span>, <span class="ruby-identifier">p2</span> = <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">p2</span>.<span class="ruby-identifier">to_i</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">p1</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">p2</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">p1</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">p2</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">release1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">release2</span>
      <span class="ruby-comment"># String comparison if both are prereleases</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">p1</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">p2</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">p1</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">p2</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># If only one is a release, that one is newer</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">release1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-windows-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">windows?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Whether or not this is running on Windows.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="windows-3F-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 578</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">windows?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@windows</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@windows</span>)
  <span class="ruby-ivar">@windows</span> = (<span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">'host_os'</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp">/mswin|windows|mingw/i</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-with_extracted_values" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">with_extracted_values</span><span
            class="method-args">(arr) { |str| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Allows modifications to be performed on the string form of an array
containing both strings and non-strings.</p>

<p>@param arr [Array] The array from which values are extracted. @yield [str]
A block in which string manipulation can be done to the array. @yieldparam
str [String] The string form of `arr`. @yieldreturn [String] The modified
string. @return [Array] The modified, interpolated array.</p>
          
          

          
          <div class="method-source-code" id="with_extracted_values-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1032</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">with_extracted_values</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">str</span>, <span class="ruby-identifier">vals</span> = <span class="ruby-identifier">extract_values</span>(<span class="ruby-identifier">arr</span>)
  <span class="ruby-identifier">str</span> = <span class="ruby-keyword">yield</span> <span class="ruby-identifier">str</span>
  <span class="ruby-identifier">inject_values</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">vals</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-lcs_backtrace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lcs_backtrace</span><span
            class="method-args">(c, x, y, i, j) { |x, y| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Computes a single longest common subsequence for arrays x and y. Algorithm
from [Wikipedia](<a
href="http://en.wikipedia.org/wiki/Longest_common_subsequence_problem#Reading_out_an_LCS">en.wikipedia.org/wiki/Longest_common_subsequence_problem#Reading_out_an_LCS</a>)</p>
          
          

          
          <div class="method-source-code" id="lcs_backtrace-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-comment"># rubocop:enable ParameterList, LineLengths</span>
  <span class="ruby-keyword">return</span> [] <span class="ruby-keyword">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">j</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">v</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">x</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">y</span>[<span class="ruby-identifier">j</span>]))
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">j</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>] <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>][<span class="ruby-identifier">j</span>]
  <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">j</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-lcs_table" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lcs_table</span><span
            class="method-args">(x, y) { |x, y| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Calculates the memoization table for the Least Common Subsequence
algorithm. Algorithm from [Wikipedia](<a
href="http://en.wikipedia.org/wiki/Longest_common_subsequence_problem#Computing_the_length_of_the_LCS">en.wikipedia.org/wiki/Longest_common_subsequence_problem#Computing_the_length_of_the_LCS</a>)</p>
          
          

          
          <div class="method-source-code" id="lcs_table-source">
            <pre><span class="ruby-comment"># File lib/sass/util.rb, line 1262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lcs_table</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)
  <span class="ruby-comment"># This method does not take a block as an explicit parameter for performance reasons.</span>
  <span class="ruby-comment"># rubocop:enable LineLength</span>
  <span class="ruby-identifier">c</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">size</span>) {[]}
  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">0</span>] = <span class="ruby-value">0</span>}
  <span class="ruby-identifier">y</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>[<span class="ruby-value">0</span>][<span class="ruby-identifier">j</span>] = <span class="ruby-value">0</span>}
  (<span class="ruby-value">1</span><span class="ruby-operator">...</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    (<span class="ruby-value">1</span><span class="ruby-operator">...</span><span class="ruby-identifier">y</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>] =
        <span class="ruby-keyword">if</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">x</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">y</span>[<span class="ruby-identifier">j</span>]
          <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>][<span class="ruby-identifier">j</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">else</span>
          [<span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>], <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>][<span class="ruby-identifier">j</span>]].<span class="ruby-identifier">max</span>
        <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">c</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

